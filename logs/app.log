2025-10-19 18:14:14 | INFO     | core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 18:14:14 | INFO     | core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 18:14:28 | INFO     | core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 18:14:28 | INFO     | core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 18:19:17 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 18:19:17 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 18:19:17 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 18:19:17 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 18:19:17 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 18:19:17 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 18:19:17 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 18:19:17 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 18:19:17 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 18:19:24 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 18:19:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 18:19:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 18:19:31 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 18:19:31 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 18:19:31 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 18:19:31 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 18:19:31 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 18:19:37 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 19:18:30 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 19:18:30 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 19:18:30 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 19:18:30 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 19:18:30 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 19:18:30 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 19:18:30 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 19:24:35 | INFO     | app.api.documents:upload_document:79 - Received upload request: All_You_Need_to_Know_About_The_Self_Attention_Layer__1760496103.pdf
2025-10-19 19:24:35 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/9576e3d7-303f-4280-951d-4f561d657c99_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf (4489208 bytes)
2025-10-19 19:24:35 | INFO     | app.services.document_service:create_document_record:53 - Created document record: 755920ec-94f2-4548-b545-ed79ddaec124
2025-10-19 19:24:35 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: 755920ec-94f2-4548-b545-ed79ddaec124
2025-10-19 19:24:35 | INFO     | app.services.document_service:process_document:118 - Starting document processing: 755920ec-94f2-4548-b545-ed79ddaec124
2025-10-19 19:24:35 | INFO     | app.services.document_service:update_document_status:102 - Updated document 755920ec-94f2-4548-b545-ed79ddaec124 status to: parsing
2025-10-19 19:24:35 | INFO     | app.services.document_service:process_document:134 - Parsing document: 9576e3d7-303f-4280-951d-4f561d657c99_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-19 19:24:35 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/9576e3d7-303f-4280-951d-4f561d657c99_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-19 19:24:39 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 80 pages, 14860 words in 3.88s
2025-10-19 19:24:39 | INFO     | app.services.document_service:update_document_status:102 - Updated document 755920ec-94f2-4548-b545-ed79ddaec124 status to: parsed
2025-10-19 19:24:39 | INFO     | app.services.document_service:process_document:167 - Cleaning text for document: 9576e3d7-303f-4280-951d-4f561d657c99_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-19 19:24:39 | INFO     | app.services.document_service:update_document_status:102 - Updated document 755920ec-94f2-4548-b545-ed79ddaec124 status to: cleaning
2025-10-19 19:24:39 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 159768 chars)
2025-10-19 19:24:39 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 159768 -> 33707 chars (78.9% reduction) in 0.029s
2025-10-19 19:24:39 | INFO     | app.services.document_service:process_document:190 - Saving processed text for document: 9576e3d7-303f-4280-951d-4f561d657c99_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-19 19:24:39 | INFO     | app.services.document_service:update_document_status:102 - Updated document 755920ec-94f2-4548-b545-ed79ddaec124 status to: cleaned
2025-10-19 19:24:39 | INFO     | app.services.document_service:process_document:217 - Document processing completed: 755920ec-94f2-4548-b545-ed79ddaec124
2025-10-19 19:25:59 | INFO     | app.api.documents:upload_document:79 - Received upload request: ISMS_HR_02_Performance Review.pdf
2025-10-19 19:25:59 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/8f973006-cb0d-4751-957a-2fada0f0b1dd_ISMS_HR_02_Performance Review.pdf (178242 bytes)
2025-10-19 19:25:59 | INFO     | app.services.document_service:create_document_record:53 - Created document record: 535d1776-8f5f-44b0-b881-86b1ec2cf772
2025-10-19 19:25:59 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: 535d1776-8f5f-44b0-b881-86b1ec2cf772
2025-10-19 19:25:59 | INFO     | app.services.document_service:process_document:118 - Starting document processing: 535d1776-8f5f-44b0-b881-86b1ec2cf772
2025-10-19 19:25:59 | INFO     | app.services.document_service:update_document_status:102 - Updated document 535d1776-8f5f-44b0-b881-86b1ec2cf772 status to: parsing
2025-10-19 19:25:59 | INFO     | app.services.document_service:process_document:134 - Parsing document: 8f973006-cb0d-4751-957a-2fada0f0b1dd_ISMS_HR_02_Performance Review.pdf
2025-10-19 19:25:59 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/8f973006-cb0d-4751-957a-2fada0f0b1dd_ISMS_HR_02_Performance Review.pdf
2025-10-19 19:25:59 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 4 pages, 653 words in 0.20s
2025-10-19 19:25:59 | INFO     | app.services.document_service:update_document_status:102 - Updated document 535d1776-8f5f-44b0-b881-86b1ec2cf772 status to: parsed
2025-10-19 19:25:59 | INFO     | app.services.document_service:process_document:167 - Cleaning text for document: 8f973006-cb0d-4751-957a-2fada0f0b1dd_ISMS_HR_02_Performance Review.pdf
2025-10-19 19:25:59 | INFO     | app.services.document_service:update_document_status:102 - Updated document 535d1776-8f5f-44b0-b881-86b1ec2cf772 status to: cleaning
2025-10-19 19:25:59 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 4599 chars)
2025-10-19 19:25:59 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 4599 -> 2764 chars (39.9% reduction) in 0.001s
2025-10-19 19:25:59 | INFO     | app.services.document_service:process_document:190 - Saving processed text for document: 8f973006-cb0d-4751-957a-2fada0f0b1dd_ISMS_HR_02_Performance Review.pdf
2025-10-19 19:25:59 | INFO     | app.services.document_service:update_document_status:102 - Updated document 535d1776-8f5f-44b0-b881-86b1ec2cf772 status to: cleaned
2025-10-19 19:25:59 | INFO     | app.services.document_service:process_document:217 - Document processing completed: 535d1776-8f5f-44b0-b881-86b1ec2cf772
2025-10-19 19:26:14 | INFO     | app.api.documents:upload_document:79 - Received upload request: ISMS_HR_04_Posh.pdf
2025-10-19 19:26:14 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/d4c76f15-05dd-4ec1-adc6-7cba5b1aae35_ISMS_HR_04_Posh.pdf (173478 bytes)
2025-10-19 19:26:14 | INFO     | app.services.document_service:create_document_record:53 - Created document record: 3ff0d0a4-f6e3-464b-a161-696f8a1024ed
2025-10-19 19:26:14 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: 3ff0d0a4-f6e3-464b-a161-696f8a1024ed
2025-10-19 19:26:14 | INFO     | app.services.document_service:process_document:118 - Starting document processing: 3ff0d0a4-f6e3-464b-a161-696f8a1024ed
2025-10-19 19:26:14 | INFO     | app.services.document_service:update_document_status:102 - Updated document 3ff0d0a4-f6e3-464b-a161-696f8a1024ed status to: parsing
2025-10-19 19:26:14 | INFO     | app.services.document_service:process_document:134 - Parsing document: d4c76f15-05dd-4ec1-adc6-7cba5b1aae35_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:14 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/d4c76f15-05dd-4ec1-adc6-7cba5b1aae35_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:15 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 4 pages, 845 words in 0.46s
2025-10-19 19:26:15 | INFO     | app.services.document_service:update_document_status:102 - Updated document 3ff0d0a4-f6e3-464b-a161-696f8a1024ed status to: parsed
2025-10-19 19:26:15 | INFO     | app.services.document_service:process_document:167 - Cleaning text for document: d4c76f15-05dd-4ec1-adc6-7cba5b1aae35_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:15 | INFO     | app.services.document_service:update_document_status:102 - Updated document 3ff0d0a4-f6e3-464b-a161-696f8a1024ed status to: cleaning
2025-10-19 19:26:15 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 5767 chars)
2025-10-19 19:26:15 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 5767 -> 2363 chars (59.03% reduction) in 0.001s
2025-10-19 19:26:15 | INFO     | app.services.document_service:process_document:190 - Saving processed text for document: d4c76f15-05dd-4ec1-adc6-7cba5b1aae35_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:15 | INFO     | app.services.document_service:update_document_status:102 - Updated document 3ff0d0a4-f6e3-464b-a161-696f8a1024ed status to: cleaned
2025-10-19 19:26:15 | INFO     | app.services.document_service:process_document:217 - Document processing completed: 3ff0d0a4-f6e3-464b-a161-696f8a1024ed
2025-10-19 19:26:16 | INFO     | app.api.documents:upload_document:79 - Received upload request: ISMS_HR_04_Posh.pdf
2025-10-19 19:26:16 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/3c7109ed-900c-4e0e-8386-7f0ec787aedc_ISMS_HR_04_Posh.pdf (173478 bytes)
2025-10-19 19:26:16 | INFO     | app.services.document_service:create_document_record:53 - Created document record: 764080c1-ae75-425c-a4aa-d245a6ab119b
2025-10-19 19:26:16 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: 764080c1-ae75-425c-a4aa-d245a6ab119b
2025-10-19 19:26:16 | INFO     | app.services.document_service:process_document:118 - Starting document processing: 764080c1-ae75-425c-a4aa-d245a6ab119b
2025-10-19 19:26:16 | INFO     | app.services.document_service:update_document_status:102 - Updated document 764080c1-ae75-425c-a4aa-d245a6ab119b status to: parsing
2025-10-19 19:26:16 | INFO     | app.services.document_service:process_document:134 - Parsing document: 3c7109ed-900c-4e0e-8386-7f0ec787aedc_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:16 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/3c7109ed-900c-4e0e-8386-7f0ec787aedc_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:17 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 4 pages, 845 words in 0.24s
2025-10-19 19:26:17 | INFO     | app.services.document_service:update_document_status:102 - Updated document 764080c1-ae75-425c-a4aa-d245a6ab119b status to: parsed
2025-10-19 19:26:17 | INFO     | app.services.document_service:process_document:167 - Cleaning text for document: 3c7109ed-900c-4e0e-8386-7f0ec787aedc_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:17 | INFO     | app.services.document_service:update_document_status:102 - Updated document 764080c1-ae75-425c-a4aa-d245a6ab119b status to: cleaning
2025-10-19 19:26:17 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 5767 chars)
2025-10-19 19:26:17 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 5767 -> 2363 chars (59.03% reduction) in 0.001s
2025-10-19 19:26:17 | INFO     | app.services.document_service:process_document:190 - Saving processed text for document: 3c7109ed-900c-4e0e-8386-7f0ec787aedc_ISMS_HR_04_Posh.pdf
2025-10-19 19:26:17 | INFO     | app.services.document_service:update_document_status:102 - Updated document 764080c1-ae75-425c-a4aa-d245a6ab119b status to: cleaned
2025-10-19 19:26:17 | INFO     | app.services.document_service:process_document:217 - Document processing completed: 764080c1-ae75-425c-a4aa-d245a6ab119b
2025-10-19 20:06:59 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:00 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:00 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:01 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:01 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:01 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:01 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:01 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:01 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:02 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:02 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:02 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:02 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:02 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:02 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:02 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:13 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:14 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:14 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:14 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:14 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:14 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:14 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:14 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:16 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:17 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:17 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:17 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:17 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:17 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:17 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:17 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:28 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:29 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:29 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:29 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:29 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:29 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:29 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:29 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:31 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:32 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:32 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:32 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:32 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:32 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:32 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:32 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:49 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:50 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:50 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:50 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:50 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:50 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:50 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:50 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:07:53 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:07:53 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:07:53 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:07:54 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:07:54 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:07:54 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:07:54 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:07:54 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:08:19 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:08:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:08:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:08:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:08:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:08:54 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:08:54 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:08:58 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:08:58 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:09:15 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:09:15 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:09:38 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:09:38 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:10:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:10:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:10:41 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:10:41 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:22:57 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:22:57 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:23:00 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:23:00 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:23:03 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 20:23:03 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 20:23:03 | ERROR    | app.services.typesense_service:_init_client:42 - Failed to connect to Typesense: 'Operations' object has no attribute 'health_check'
2025-10-19 20:25:39 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:39 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:42 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:42 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:45 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:25:45 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:25:46 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:46 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:49 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:49 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:51 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:25:51 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:25:54 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:25:54 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:25:57 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 20:25:57 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 20:25:57 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 0 collections.
2025-10-19 20:25:57 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:25:57 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:25:57 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:25:57 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:25:57 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:26:04 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:26:13 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:26:13 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:26:15 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:26:15 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:26:18 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 20:26:18 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 20:26:18 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 0 collections.
2025-10-19 20:26:18 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:26:18 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:26:18 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:26:18 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:26:18 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:31:19 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:31:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:31:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:31:22 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:31:22 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:31:26 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 20:31:26 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 20:31:26 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 0 collections.
2025-10-19 20:31:26 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:31:26 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:31:26 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:31:26 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:31:26 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:32:37 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 20:32:38 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:32:38 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:32:40 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:32:40 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:32:42 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:32:42 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:32:44 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:32:44 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:32:46 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 20:32:46 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 20:32:48 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 20:32:48 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 20:32:51 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 20:32:51 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 20:32:51 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 0 collections.
2025-10-19 20:32:52 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 20:32:52 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 20:32:52 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 20:32:52 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 20:32:52 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 20:38:29 | ERROR    | app.services.typesense_service:get_collection_stats:308 - Failed to get stats: [Errno 404] Not Found
2025-10-19 20:39:17 | INFO     | app.api.documents:upload_document:79 - Received upload request: ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:17 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf (178242 bytes)
2025-10-19 20:39:17 | INFO     | app.services.document_service:create_document_record:56 - Created document record: 6024e81d-56be-490a-bd7e-44eda0729b57
2025-10-19 20:39:17 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: 6024e81d-56be-490a-bd7e-44eda0729b57
2025-10-19 20:39:17 | INFO     | app.services.document_service:process_document:121 - Starting document processing: 6024e81d-56be-490a-bd7e-44eda0729b57
2025-10-19 20:39:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: parsing
2025-10-19 20:39:17 | INFO     | app.services.document_service:process_document:137 - Parsing document: ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:17 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:18 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 4 pages, 653 words in 0.34s
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: parsed
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: cleaning
2025-10-19 20:39:18 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 4599 chars)
2025-10-19 20:39:18 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 4599 -> 2764 chars (39.9% reduction) in 0.002s
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: cleaned
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:221 - Chunking document: ff2a07d3-c8a8-42d0-bae5-4f5d54209d39_ISMS_HR_02_Performance Review.pdf
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: chunking
2025-10-19 20:39:18 | INFO     | app.services.chunker:chunk_text:49 - Chunking text using 'sentence-aware' strategy
2025-10-19 20:39:18 | INFO     | app.services.chunker:chunk_text:50 - Text length: 2764 chars, Target chunk size: 500
2025-10-19 20:39:18 | INFO     | app.services.chunker:chunk_text:78 - Created 6 chunks
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:236 - Created 6 chunks
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 6 chunks
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: embedding
2025-10-19 20:39:18 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 6 chunks...
2025-10-19 20:39:18 | INFO     | app.services.embeddings:encode:73 - Encoding 6 texts...
2025-10-19 20:39:18 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (6, 384)
2025-10-19 20:39:18 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:298 - Indexing 6 chunks in Typesense
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: indexing
2025-10-19 20:39:18 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 6 chunks for document 6024e81d-56be-490a-bd7e-44eda0729b57
2025-10-19 20:39:18 | INFO     | app.services.typesense_service:index_chunks:156 - Collection doesn't exist, creating...
2025-10-19 20:39:18 | INFO     | app.services.typesense_service:create_collection:67 - Creating Typesense collection: documents
2025-10-19 20:39:18 | INFO     | app.services.typesense_service:create_collection:112 - Collection created successfully: documents
2025-10-19 20:39:18 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 6 chunks successfully, 0 failures
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:307 - Indexed 6 chunks successfully
2025-10-19 20:39:18 | INFO     | app.services.document_service:update_document_status:105 - Updated document 6024e81d-56be-490a-bd7e-44eda0729b57 status to: indexed
2025-10-19 20:39:18 | INFO     | app.services.document_service:process_document:332 - Document processing completed: 6024e81d-56be-490a-bd7e-44eda0729b57
2025-10-19 20:39:25 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 20:39:26 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 20:39:45 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 20:44:53 | INFO     | app.api.search:search_documents:45 - Search query: 'What are the Cyclical Reviews in the company'
2025-10-19 20:44:53 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the Cyclical Reviews in the company' in documents
2025-10-19 20:44:53 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 20:44:53 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 20:45:05 | ERROR    | app.services.typesense_service:search:260 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 20:45:05 | ERROR    | app.api.search:search_documents:69 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 20:45:27 | INFO     | app.api.search:search_documents:45 - Search query: 'What are the Cyclical Reviews in the company'
2025-10-19 20:45:27 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the Cyclical Reviews in the company' in documents
2025-10-19 20:45:27 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 20:45:27 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 20:45:39 | ERROR    | app.services.typesense_service:search:260 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 20:45:39 | ERROR    | app.api.search:search_documents:69 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 21:13:46 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:13:48 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:13:48 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:13:50 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:13:50 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:13:54 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:13:54 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:13:54 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:13:54 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:13:54 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:13:54 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:13:54 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:13:54 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:14:14 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:14:16 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:14:16 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:14:18 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:14:18 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:14:21 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:14:21 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:14:21 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:14:21 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:14:21 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:14:21 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:14:21 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:14:21 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:14:38 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:14:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:14:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:14:42 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:14:42 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:14:45 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:14:45 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:14:45 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:14:45 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:14:45 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:14:45 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:14:45 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:14:45 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:15:17 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:15:19 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:15:19 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:15:21 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:15:21 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:15:24 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:15:24 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:15:24 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:15:24 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:15:24 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:15:24 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:15:24 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:15:24 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:15:55 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:15:56 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:15:56 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:15:59 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:15:59 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:16:02 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:16:02 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:16:02 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:16:02 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:16:02 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:16:02 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:16:02 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:16:02 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:16:42 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:16:44 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:16:44 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:16:46 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:16:46 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:16:49 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:16:49 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:16:49 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:16:49 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:16:49 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:16:49 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:16:49 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:16:49 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:17:00 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:17:01 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:17:01 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:17:04 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:17:04 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:17:07 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:17:07 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:17:07 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:17:07 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:17:07 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:17:07 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:17:07 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:17:07 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:17:08 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:17:09 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:17:09 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:17:12 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:17:12 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:17:15 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:17:15 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:17:15 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:17:15 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:17:15 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:17:15 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:17:15 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:17:15 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:17:24 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:17:25 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:17:25 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:17:28 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:17:28 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:17:31 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:17:31 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:17:31 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:17:31 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:17:31 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:17:31 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:17:31 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:17:31 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:17:43 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:17:44 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:17:44 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:17:47 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:17:47 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:17:50 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:17:50 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:17:50 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:17:50 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:17:50 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:17:50 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:17:50 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:17:50 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:18:10 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:18:12 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:18:12 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:18:14 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:18:14 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:18:17 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:18:17 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:18:17 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:18:17 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:18:17 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:18:17 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:18:17 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:18:17 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:18:34 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:18:35 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:18:35 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:18:38 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:18:38 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:18:41 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:18:41 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:18:41 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:18:41 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:18:41 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:18:41 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:18:41 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:18:41 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:19:11 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:19:13 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:19:13 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:19:15 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:19:15 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:19:18 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:19:18 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:19:18 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:19:18 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:19:18 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:19:18 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:19:18 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:19:18 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:19:37 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:19:38 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:19:38 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:19:41 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:19:41 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:19:43 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:19:43 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:19:46 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:19:46 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:19:49 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:19:49 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:19:49 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:20:16 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:20:16 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:20:18 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:20:18 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:20:21 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:20:21 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:20:24 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:20:24 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:20:24 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:20:24 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:20:24 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:20:28 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:20:28 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:20:29 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:20:29 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:20:29 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:20:29 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:20:29 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:20:38 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:20:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:20:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:20:42 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:20:42 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:20:45 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:20:45 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:20:45 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:20:46 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:20:46 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:20:46 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:20:46 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:20:46 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:20:46 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:20:46 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:20:46 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:20:46 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:21:00 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:21:01 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:21:01 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:21:03 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:21:03 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:21:04 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:21:04 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:21:04 | INFO     | __main__:init_database:14 - Initializing database...
2025-10-19 21:21:04 | INFO     | __main__:init_database:15 - Database URL: sqlite+aiosqlite:///./rag_system.db
2025-10-19 21:21:04 | INFO     | __main__:init_database:26 - Creating tables...
2025-10-19 21:21:04 | INFO     | __main__:init_database:28 - ✅ All tables created successfully!
2025-10-19 21:21:04 | INFO     | __main__:init_database:38 - Created tables: documents, processing_logs, conversations, conversation_messages
2025-10-19 21:21:04 | INFO     | __main__:init_database:46 - Database initialization complete!
2025-10-19 21:21:07 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:21:07 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:21:07 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:21:07 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:21:07 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:21:07 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:21:07 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:21:07 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:21:07 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:21:07 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:21:07 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:21:07 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:21:22 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:21:22 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:21:25 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:21:25 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:21:28 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:21:28 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:21:28 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:21:28 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:21:28 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:21:28 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:21:28 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:22:54 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:22:54 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:22:56 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:22:56 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:22:59 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:22:59 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:22:59 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:22:59 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:22:59 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:23:00 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:23:00 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:23:00 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:23:00 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:23:00 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:23:00 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:23:00 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:26:39 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:26:39 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:26:39 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:26:39 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.agents.orchestrator:process_query:66 - Using session: a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:26:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:26:39 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:26:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a57430b1-8f5e-488b-a7d1-9ec66433f066
2025-10-19 21:26:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:26:39 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:26:39 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:26:39 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:26:39 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 21:26:39 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 21:26:51 | ERROR    | app.services.typesense_service:search:260 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 21:26:51 | ERROR    | app.agents.base_agent:log_error:57 - [SearchAgent] Error: Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=2)
2025-10-19 21:26:51 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:27:17 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:27:21 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:27:21 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:27:23 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:27:23 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:27:26 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:27:26 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:27:26 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:27:27 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:27:27 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:27:27 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:27:27 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:27:27 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:27:27 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:27:27 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:27:27 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:27:27 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:27:44 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:27:44 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:27:44 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:27:44 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:27:44 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:27:44 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:27:44 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 167ae8b8-c64f-479f-9105-9d6f336f5060
2025-10-19 21:27:44 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:27:44 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:27:44 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:27:44 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:27:44 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 21:27:44 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 21:28:28 | ERROR    | app.services.typesense_service:search:260 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=10)
2025-10-19 21:28:28 | ERROR    | app.agents.base_agent:log_error:57 - [SearchAgent] Error: Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=10)
2025-10-19 21:28:28 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:30:13 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:30:15 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:30:15 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:30:17 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:30:17 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:30:20 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:30:20 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:30:20 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:30:21 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama3-8b-8192
2025-10-19 21:30:21 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:30:21 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:30:21 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:30:21 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:30:21 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:30:21 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:30:21 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:30:21 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:30:33 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:30:33 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 68858c68-3731-4251-bc51-d39f1cbe185d
2025-10-19 21:30:33 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:30:33 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:30:33 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:30:33 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:30:33 | INFO     | app.services.context_manager:assemble_context:149 - Context assembled: 1 chunks, 2355 total tokens
2025-10-19 21:30:33 | INFO     | app.services.context_manager:assemble_context:150 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2355}
2025-10-19 21:30:33 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH policy about?...'
2025-10-19 21:30:33 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 174
2025-10-19 21:30:33 | ERROR    | app.services.llm_service:generate_response:150 - LLM generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:30:33 | ERROR    | app.agents.base_agent:log_error:57 - [AnswerAgent] Error: Answer generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:30:33 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:30:42 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:30:42 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f0f57441-5b6b-47f0-b59e-e51f49b6d3cc
2025-10-19 21:30:42 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:30:42 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:30:42 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:30:42 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:30:42 | INFO     | app.services.context_manager:assemble_context:149 - Context assembled: 1 chunks, 2355 total tokens
2025-10-19 21:30:42 | INFO     | app.services.context_manager:assemble_context:150 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2355}
2025-10-19 21:30:42 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH policy about?...'
2025-10-19 21:30:42 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 174
2025-10-19 21:30:43 | ERROR    | app.services.llm_service:generate_response:150 - LLM generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:30:43 | ERROR    | app.agents.base_agent:log_error:57 - [AnswerAgent] Error: Answer generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:30:43 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:31:08 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:31:08 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 11c4b6f8-edbf-4319-841b-a254cf3b8df3
2025-10-19 21:31:08 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:31:08 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:31:08 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:31:08 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:31:08 | INFO     | app.services.context_manager:assemble_context:149 - Context assembled: 1 chunks, 2355 total tokens
2025-10-19 21:31:08 | INFO     | app.services.context_manager:assemble_context:150 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2355}
2025-10-19 21:31:08 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH policy about?...'
2025-10-19 21:31:08 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 174
2025-10-19 21:31:09 | ERROR    | app.services.llm_service:generate_response:150 - LLM generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:31:09 | ERROR    | app.agents.base_agent:log_error:57 - [AnswerAgent] Error: Answer generation failed: Error code: 400 - {'error': {'message': 'The model `llama3-8b-8192` has been decommissioned and is no longer supported. Please refer to https://console.groq.com/docs/deprecations for a recommendation on which model to use instead.', 'type': 'invalid_request_error', 'code': 'model_decommissioned'}}
2025-10-19 21:31:09 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:31:31 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:32:23 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:32:23 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:32:25 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:32:25 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:32:28 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:32:28 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:32:28 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:32:28 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 21:32:29 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:32:29 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:32:29 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:32:29 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:32:29 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:32:29 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:32:29 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:32:29 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:34:43 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy about?' in documents
2025-10-19 21:34:43 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:34:43 | INFO     | app.services.context_manager:assemble_context:149 - Context assembled: 1 chunks, 2355 total tokens
2025-10-19 21:34:43 | INFO     | app.services.context_manager:assemble_context:150 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2355}
2025-10-19 21:34:43 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH policy about?...'
2025-10-19 21:34:43 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 174
2025-10-19 21:34:43 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (203 tokens)
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=203, sources=1
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 1)
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:34:43 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f73fe0c7-3f68-4102-9ee2-4e26128e4399
2025-10-19 21:34:43 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 2)
2025-10-19 21:34:43 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:34:43 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f73fe0c7-3f68-4102-9ee2-4e26128e4399)
2025-10-19 21:34:59 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:35:13 | INFO     | app.api.search:search_documents:45 - Search query: 'performance review'
2025-10-19 21:35:13 | INFO     | app.services.typesense_service:search:234 - Searching: 'performance review' in documents
2025-10-19 21:35:13 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 21:35:13 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 21:35:57 | ERROR    | app.services.typesense_service:search:260 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=10)
2025-10-19 21:35:57 | ERROR    | app.api.search:search_documents:69 - Search failed: HTTPConnectionPool(host='localhost', port=8108): Read timed out. (read timeout=10)
2025-10-19 21:36:22 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the performance review process?...'
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the performance review process?...'
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the performance review...'
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the performance review process?...'
2025-10-19 21:36:22 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the performance review process?' in documents
2025-10-19 21:36:22 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the performance review process?...'
2025-10-19 21:36:22 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:36:22 | INFO     | app.services.context_manager:assemble_context:149 - Context assembled: 1 chunks, 2357 total tokens
2025-10-19 21:36:22 | INFO     | app.services.context_manager:assemble_context:150 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2357}
2025-10-19 21:36:22 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the performance review process?...'
2025-10-19 21:36:22 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 173
2025-10-19 21:36:22 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (188 tokens)
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=188, sources=1
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 3)
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:36:22 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 3eca1877-5f0f-465e-aa12-68570058bca4
2025-10-19 21:36:22 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 4)
2025-10-19 21:36:22 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:36:22 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 3eca1877-5f0f-465e-aa12-68570058bca4)
2025-10-19 21:36:50 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:36:52 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:36:52 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:36:54 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:36:54 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:36:57 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:36:57 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:36:57 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:36:57 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 21:36:57 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:36:58 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:36:58 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:36:58 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:36:58 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:36:58 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:36:58 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:36:58 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:37:17 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the performance review process?...'
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the performance review process?...'
2025-10-19 21:37:17 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:37:17 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the performance review...'
2025-10-19 21:37:17 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:17 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the performance review process?...'
2025-10-19 21:37:17 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the performance review process?' in documents
2025-10-19 21:37:17 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:37:17 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:37:17 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the performance review process?...'
2025-10-19 21:37:17 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:37:17 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2465 total tokens
2025-10-19 21:37:17 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2465}
2025-10-19 21:37:17 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the performance review process?...'
2025-10-19 21:37:17 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 274
2025-10-19 21:37:18 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (332 tokens)
2025-10-19 21:37:18 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=332, sources=1
2025-10-19 21:37:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:37:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 5)
2025-10-19 21:37:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:37:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 21fd6718-5adb-41d7-be4e-be8a92f50296
2025-10-19 21:37:18 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 6)
2025-10-19 21:37:18 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:37:18 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 21fd6718-5adb-41d7-be4e-be8a92f50296)
2025-10-19 21:37:39 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the main HR policies?' in documents
2025-10-19 21:37:39 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2466 total tokens
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 111, 'total': 2466}
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What are the main HR policies?...'
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 263
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (337 tokens)
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=337, sources=1
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 7)
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 8)
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:37:39 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 7be6aed8-8850-4cef-9362-4f278dd0a97a)
2025-10-19 21:37:39 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 2 previous messages
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 21:37:39 | INFO     | app.services.memory_service:check_follow_up_question:274 - Detected follow-up question (indicator: 'what about')
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: True
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.services.typesense_service:search:234 - Searching: 'What about leave policies?' in documents
2025-10-19 21:37:39 | INFO     | app.services.typesense_service:search:256 - Found 2 results
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 2 results
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 2 results
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 2 search results
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 2 chunks, 2684 total tokens
2025-10-19 21:37:39 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 111, 'search_results': 219, 'total': 2684}
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What about leave policies?...'
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 448
2025-10-19 21:37:39 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (495 tokens)
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=495, sources=2
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 9)
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:37:39 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:39 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 10)
2025-10-19 21:37:39 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:37:39 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 7be6aed8-8850-4cef-9362-4f278dd0a97a)
2025-10-19 21:37:57 | INFO     | app.api.qa:get_conversation_history:150 - Retrieving conversation history: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:37:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:37:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:37:57 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:37:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-19 21:37:57 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: 7be6aed8-8850-4cef-9362-4f278dd0a97a
2025-10-19 21:37:57 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 21:40:16 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are employee development opportunities?...'
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are employee development opportunities?...'
2025-10-19 21:40:16 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:40:16 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are employee development ...'
2025-10-19 21:40:16 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:16 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are employee development opportunities?...'
2025-10-19 21:40:16 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are employee development opportunities?' in documents
2025-10-19 21:40:16 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 21:40:16 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 21:40:16 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What are employee development opportunities?...'
2025-10-19 21:40:16 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 21:40:16 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2470 total tokens
2025-10-19 21:40:16 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 11, 'response_buffer': 2048, 'conversation': 0, 'search_results': 111, 'total': 2470}
2025-10-19 21:40:16 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What are employee development opportunities?...'
2025-10-19 21:40:16 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 262
2025-10-19 21:40:18 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (352 tokens)
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=352, sources=1
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 11)
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 12)
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:40:18 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0)
2025-10-19 21:40:18 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'Are there any rewards mentioned?...'
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'Are there any rewards mentioned?...'
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 2 previous messages
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='Are there any rewards mentione...'
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:18 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='Are there any rewards mentioned?...'
2025-10-19 21:40:18 | INFO     | app.services.typesense_service:search:234 - Searching: 'Are there any rewards mentioned?' in documents
2025-10-19 21:40:18 | INFO     | app.services.typesense_service:search:256 - Found 3 results
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 3 results
2025-10-19 21:40:18 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 3 results
2025-10-19 21:40:18 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='Are there any rewards mentioned?...'
2025-10-19 21:40:18 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 3 search results
2025-10-19 21:40:18 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 3 chunks, 2690 total tokens
2025-10-19 21:40:18 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 8, 'response_buffer': 2048, 'conversation': 0, 'search_results': 334, 'total': 2690}
2025-10-19 21:40:18 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Are there any rewards mentioned?...'
2025-10-19 21:40:18 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 482
2025-10-19 21:40:19 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (557 tokens)
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=557, sources=3
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 21:40:19 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 13)
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 21:40:19 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 14)
2025-10-19 21:40:19 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 21:40:19 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0)
2025-10-19 21:40:19 | INFO     | app.api.qa:get_conversation_history:150 - Retrieving conversation history: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:40:19 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-19 21:40:19 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: 223c1133-5960-4dc0-968c-f9ee13f0cfb0
2025-10-19 21:40:19 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 21:40:19 | INFO     | app.api.qa:list_conversations:111 - Listing conversations (limit=20)
2025-10-19 21:48:02 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:48:03 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:48:03 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:48:06 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:48:06 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:48:09 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:48:09 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:48:09 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:48:09 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 21:48:09 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:48:10 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:48:10 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:48:10 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:48:10 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:48:10 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:48:10 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:48:10 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:48:16 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 21:48:18 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 21:48:18 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 21:48:20 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 21:48:20 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 21:48:23 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 21:48:23 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 21:48:23 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 21:48:23 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 21:48:24 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 21:48:24 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 21:48:24 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 21:48:24 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 21:48:24 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 21:48:24 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 21:48:24 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 21:48:24 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 21:48:55 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:48:55 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:48:55 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 21:48:55 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:48:55 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:48:55 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='How are employees evaluated an...'
2025-10-19 21:48:55 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 3f5ddcbf-bcae-45ea-ae9f-49f4bb8d07c9
2025-10-19 21:48:55 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:48:55 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:48:55 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='How are employees evaluated and what happens after...'
2025-10-19 21:48:55 | INFO     | app.services.typesense_service:search:234 - Searching: 'How are employees evaluated and what happens after reviews?' in documents
2025-10-19 21:48:55 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 21:48:55 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 21:52:27 | ERROR    | app.services.typesense_service:search:260 - Search failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-10-19 21:52:27 | ERROR    | app.agents.base_agent:log_error:57 - [SearchAgent] Error: Search failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-10-19 21:52:27 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'performance review...'
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 21:52:27 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 21:52:27 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'performance review...'
2025-10-19 21:52:27 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 21:52:27 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 21:52:27 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:52:27 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='performance review...'
2025-10-19 21:52:27 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7a755516-2b9f-4d3e-a932-9774586f54f6
2025-10-19 21:52:27 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 21:52:27 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 21:52:27 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='performance review...'
2025-10-19 21:52:27 | INFO     | app.services.typesense_service:search:234 - Searching: 'performance review' in documents
2025-10-19 21:52:27 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 21:52:27 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 21:56:31 | ERROR    | app.services.typesense_service:search:260 - Search failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-10-19 21:56:31 | ERROR    | app.agents.base_agent:log_error:57 - [SearchAgent] Error: Search failed: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
2025-10-19 21:56:31 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 22:11:22 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are the Cyclical Reviews in the company...'
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:11:22 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:11:22 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are the Cyclical Reviews in the company...'
2025-10-19 22:11:22 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.agents.orchestrator:process_query:66 - Using session: a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:11:22 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:11:22 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are the Cyclical Reviews ...'
2025-10-19 22:11:22 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a5e300fa-8c54-4cb8-80f1-e946af713014
2025-10-19 22:11:22 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:11:22 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:11:22 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are the Cyclical Reviews in the company...'
2025-10-19 22:11:22 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the Cyclical Reviews in the company' in documents
2025-10-19 22:11:22 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:11:22 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:12:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:12:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:12:22 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:12:22 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:12:25 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 22:12:25 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 22:12:25 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 22:12:25 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 22:12:25 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 22:12:25 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 22:12:25 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 22:12:25 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 22:12:25 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 22:12:25 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 22:12:25 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 22:12:25 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 22:12:37 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are the Cyclical Reviews in the company...'
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are the Cyclical Reviews in the company...'
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are the Cyclical Reviews ...'
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are the Cyclical Reviews in the company...'
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:12:37 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the Cyclical Reviews in the company' in documents
2025-10-19 22:12:37 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:12:37 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:12:37 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What are the Cyclical Reviews in the company...'
2025-10-19 22:12:37 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:12:37 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2470 total tokens
2025-10-19 22:12:37 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 11, 'response_buffer': 2048, 'conversation': 0, 'search_results': 111, 'total': 2470}
2025-10-19 22:12:37 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What are the Cyclical Reviews in the company...'
2025-10-19 22:12:37 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 265
2025-10-19 22:12:37 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (342 tokens)
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=342, sources=1
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 15)
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:12:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e
2025-10-19 22:12:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 16)
2025-10-19 22:12:37 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:12:37 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 458385e9-e3eb-4e14-85d0-9c49eca26d8e)
2025-10-19 22:13:40 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:13:40 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH polciy about?' in documents
2025-10-19 22:13:40 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:13:40 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:13:40 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 11ms
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:13:40 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2463 total tokens
2025-10-19 22:13:40 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2463}
2025-10-19 22:13:40 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH polciy about?...'
2025-10-19 22:13:40 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 277
2025-10-19 22:13:40 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (320 tokens)
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=320, sources=1
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 17)
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:13:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 07ba12c2-b511-4803-98d5-ddcda69b08ff
2025-10-19 22:13:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 18)
2025-10-19 22:13:40 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:13:40 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 07ba12c2-b511-4803-98d5-ddcda69b08ff)
2025-10-19 22:14:44 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the conversation we are having right now?...'
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:14:44 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:14:44 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the conversation we are having right now?...'
2025-10-19 22:14:44 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:14:44 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:14:44 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the conversation we ar...'
2025-10-19 22:14:44 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:44 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:14:44 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the conversation we are having right now?...'
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:14:44 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the conversation we are having right now?' in documents
2025-10-19 22:14:44 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:14:44 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:14:44 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:14:45 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:14:45 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the conversation we are having right now?...'
2025-10-19 22:14:45 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:14:45 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2468 total tokens
2025-10-19 22:14:45 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 12, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2468}
2025-10-19 22:14:45 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the conversation we are having right now?...'
2025-10-19 22:14:45 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 277
2025-10-19 22:14:45 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (304 tokens)
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=304, sources=1
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:14:45 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 19)
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:14:45 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 4c6d2395-df06-44ea-8812-9e10ff5f500a
2025-10-19 22:14:45 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 20)
2025-10-19 22:14:45 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:14:45 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 4c6d2395-df06-44ea-8812-9e10ff5f500a)
2025-10-19 22:15:15 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:15:15 | INFO     | app.services.typesense_service:search:234 - Searching: 'POSH Policy?' in documents
2025-10-19 22:15:15 | INFO     | app.services.typesense_service:search:256 - Found 5 results
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 5 results
2025-10-19 22:15:15 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:15:15 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 9ms
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 5 results
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 5 results
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 5 search results
2025-10-19 22:15:15 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 5 chunks, 2917 total tokens
2025-10-19 22:15:15 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 3, 'response_buffer': 2048, 'conversation': 0, 'search_results': 566, 'total': 2917}
2025-10-19 22:15:15 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'POSH Policy?...'
2025-10-19 22:15:15 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 770
2025-10-19 22:15:15 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (812 tokens)
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=812, sources=5
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 21)
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:15:15 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 9d5cf922-d292-4b22-a54b-207d6870b5ed
2025-10-19 22:15:15 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 22)
2025-10-19 22:15:15 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:15:15 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 9d5cf922-d292-4b22-a54b-207d6870b5ed)
2025-10-19 22:15:41 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the performance review process?...'
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the performance review process?...'
2025-10-19 22:15:41 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:15:41 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the performance review...'
2025-10-19 22:15:41 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:41 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the performance review process?...'
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:15:41 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the performance review process?' in documents
2025-10-19 22:15:41 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:15:41 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:15:41 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:15:41 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:15:41 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the performance review process?...'
2025-10-19 22:15:41 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:15:41 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2465 total tokens
2025-10-19 22:15:41 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2465}
2025-10-19 22:15:41 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the performance review process?...'
2025-10-19 22:15:41 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 274
2025-10-19 22:15:42 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (310 tokens)
2025-10-19 22:15:42 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=310, sources=1
2025-10-19 22:15:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:15:42 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 23)
2025-10-19 22:15:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:15:42 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 8f52488d-1e88-42f7-b665-5b60912c2eb1
2025-10-19 22:15:42 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 24)
2025-10-19 22:15:42 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:15:42 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 8f52488d-1e88-42f7-b665-5b60912c2eb1)
2025-10-19 22:15:54 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:15:54 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the POSH policy?' in documents
2025-10-19 22:15:54 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:15:54 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:15:54 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 7ms
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:15:54 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2462 total tokens
2025-10-19 22:15:54 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2462}
2025-10-19 22:15:54 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the POSH policy?...'
2025-10-19 22:15:54 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 274
2025-10-19 22:15:54 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (313 tokens)
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=313, sources=1
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 25)
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:15:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f9219637-6081-4d74-9c36-b808d2e8f855
2025-10-19 22:15:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 26)
2025-10-19 22:15:54 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:15:54 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f9219637-6081-4d74-9c36-b808d2e8f855)
2025-10-19 22:16:08 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:16:08 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is POSH?' in documents
2025-10-19 22:16:08 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:16:08 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:16:08 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 10ms
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:16:08 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2459 total tokens
2025-10-19 22:16:08 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 3, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2459}
2025-10-19 22:16:08 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is POSH?...'
2025-10-19 22:16:08 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 272
2025-10-19 22:16:08 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (301 tokens)
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=301, sources=1
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 27)
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:16:08 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 1d540e95-b37c-4779-9776-20a99ab814cb
2025-10-19 22:16:08 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 28)
2025-10-19 22:16:08 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:16:08 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 1d540e95-b37c-4779-9776-20a99ab814cb)
2025-10-19 22:16:30 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:16:30 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is Performance review?' in documents
2025-10-19 22:16:30 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:16:30 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:16:30 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 7ms
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:16:30 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2462 total tokens
2025-10-19 22:16:30 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2462}
2025-10-19 22:16:30 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is Performance review?...'
2025-10-19 22:16:30 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 272
2025-10-19 22:16:30 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (346 tokens)
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=346, sources=1
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 29)
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:16:30 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:16:30 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 30)
2025-10-19 22:16:30 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:16:30 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:17:03 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 2 previous messages
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:17:03 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is written in it?' in documents
2025-10-19 22:17:03 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:17:03 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:17:03 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 11ms
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:17:03 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2461 total tokens
2025-10-19 22:17:03 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 5, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2461}
2025-10-19 22:17:03 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is written in it?...'
2025-10-19 22:17:03 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 273
2025-10-19 22:17:03 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (355 tokens)
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=355, sources=1
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 31)
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:17:03 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:03 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 32)
2025-10-19 22:17:03 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:17:03 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:17:43 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What does the company compensate in return?...'
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What does the company compensate in return?...'
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 4 previous messages
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What does the company compensa...'
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What does the company compensate in return?...'
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:17:43 | INFO     | app.services.typesense_service:search:234 - Searching: 'What does the company compensate in return?' in documents
2025-10-19 22:17:43 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:17:43 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:17:43 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 11ms
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What does the company compensate in return?...'
2025-10-19 22:17:43 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:17:43 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2466 total tokens
2025-10-19 22:17:43 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 10, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2466}
2025-10-19 22:17:43 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What does the company compensate in return?...'
2025-10-19 22:17:43 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 275
2025-10-19 22:17:43 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (290 tokens)
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=290, sources=1
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 33)
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:17:43 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:43 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 34)
2025-10-19 22:17:43 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:17:43 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:17:57 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What conversation are we having right now?...'
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What conversation are we having right now?...'
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What conversation are we havin...'
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What conversation are we having right now?...'
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:17:57 | INFO     | app.services.typesense_service:search:234 - Searching: 'What conversation are we having right now?' in documents
2025-10-19 22:17:57 | INFO     | app.services.typesense_service:search:256 - Found 2 results
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 2 results
2025-10-19 22:17:57 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:17:57 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 9ms
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 2 results
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 2 results
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What conversation are we having right now?...'
2025-10-19 22:17:57 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 2 search results
2025-10-19 22:17:57 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 2 chunks, 2577 total tokens
2025-10-19 22:17:57 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 10, 'response_buffer': 2048, 'conversation': 0, 'search_results': 219, 'total': 2577}
2025-10-19 22:17:57 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What conversation are we having right now?...'
2025-10-19 22:17:57 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 371
2025-10-19 22:17:57 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (406 tokens)
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=406, sources=2
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 35)
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:17:57 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:17:57 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 36)
2025-10-19 22:17:57 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:17:57 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:18:18 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'Brief me the conversation we had till now?...'
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'Brief me the conversation we had till now?...'
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='Brief me the conversation we h...'
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='Brief me the conversation we had till now?...'
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:18:18 | INFO     | app.services.typesense_service:search:234 - Searching: 'Brief me the conversation we had till now?' in documents
2025-10-19 22:18:18 | INFO     | app.services.typesense_service:search:256 - Found 0 results
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] No results found: query='Brief me the conversation we had till now?'
2025-10-19 22:18:18 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 0 results
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='Brief me the conversation we had till now?...'
2025-10-19 22:18:18 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 0 search results
2025-10-19 22:18:18 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 0 chunks, 2358 total tokens
2025-10-19 22:18:18 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 10, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2358}
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] No context available: Using query only
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 37)
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:18:18 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:18 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:19 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 38)
2025-10-19 22:18:19 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:18:19 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:18:26 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'Brief me the conversation we had?...'
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'Brief me the conversation we had?...'
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='Brief me the conversation we h...'
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='Brief me the conversation we had?...'
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:18:26 | INFO     | app.services.typesense_service:search:234 - Searching: 'Brief me the conversation we had?' in documents
2025-10-19 22:18:26 | INFO     | app.services.typesense_service:search:256 - Found 0 results
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] No results found: query='Brief me the conversation we had?'
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 0 results
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='Brief me the conversation we had?...'
2025-10-19 22:18:26 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 0 search results
2025-10-19 22:18:26 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 0 chunks, 2356 total tokens
2025-10-19 22:18:26 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 8, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2356}
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] No context available: Using query only
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 39)
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:18:26 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:26 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 40)
2025-10-19 22:18:26 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:18:26 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:18:28 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'Brief me the conversation ?...'
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'Brief me the conversation ?...'
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='Brief me the conversation ?...'
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='Brief me the conversation ?...'
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:18:28 | INFO     | app.services.typesense_service:search:234 - Searching: 'Brief me the conversation ?' in documents
2025-10-19 22:18:28 | INFO     | app.services.typesense_service:search:256 - Found 0 results
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] No results found: query='Brief me the conversation ?'
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 0 results
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='Brief me the conversation ?...'
2025-10-19 22:18:28 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 0 search results
2025-10-19 22:18:28 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 0 chunks, 2354 total tokens
2025-10-19 22:18:28 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 0, 'search_results': 0, 'total': 2354}
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] No context available: Using query only
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 41)
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:18:28 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:28 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 42)
2025-10-19 22:18:28 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:18:28 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:18:37 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What conversation are we having right now?...'
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What conversation are we having right now?...'
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What conversation are we havin...'
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What conversation are we having right now?...'
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:18:37 | INFO     | app.services.typesense_service:search:234 - Searching: 'What conversation are we having right now?' in documents
2025-10-19 22:18:37 | INFO     | app.services.typesense_service:search:256 - Found 2 results
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 2 results
2025-10-19 22:18:37 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:18:37 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 9ms
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 2 results
2025-10-19 22:18:37 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 2 results
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What conversation are we having right now?...'
2025-10-19 22:18:37 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 2 search results
2025-10-19 22:18:37 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 2 chunks, 2577 total tokens
2025-10-19 22:18:37 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 10, 'response_buffer': 2048, 'conversation': 0, 'search_results': 219, 'total': 2577}
2025-10-19 22:18:37 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What conversation are we having right now?...'
2025-10-19 22:18:37 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 371
2025-10-19 22:18:37 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (415 tokens)
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=415, sources=2
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 43)
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:18:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:37 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:18:38 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 44)
2025-10-19 22:18:38 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:18:38 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:20:15 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='How are employees evaluated an...'
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 22:20:15 | INFO     | app.services.memory_service:check_follow_up_question:274 - Detected follow-up question (indicator: 'and')
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: True
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='How are employees evaluated and what happens after...'
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:20:15 | INFO     | app.services.typesense_service:search:234 - Searching: 'How are employees evaluated and what happens after reviews?' in documents
2025-10-19 22:20:15 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:20:15 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:20:15 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='How are employees evaluated and what happens after...'
2025-10-19 22:20:15 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:20:15 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2557 total tokens
2025-10-19 22:20:15 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 14, 'response_buffer': 2048, 'conversation': 84, 'search_results': 111, 'total': 2557}
2025-10-19 22:20:15 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'How are employees evaluated and what happens after...'
2025-10-19 22:20:15 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 345
2025-10-19 22:20:15 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (424 tokens)
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=424, sources=1
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 45)
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:20:15 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 22:20:15 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 46)
2025-10-19 22:20:15 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:20:15 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 22:31:12 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are employee development opportunities?...'
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are employee development opportunities?...'
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:66 - Using session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are employee development ...'
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are employee development opportunities?...'
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 22:31:12 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are employee development opportunities?' in documents
2025-10-19 22:31:12 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 22:31:12 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 22:31:12 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 10ms
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What are employee development opportunities?...'
2025-10-19 22:31:12 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 22:31:12 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2470 total tokens
2025-10-19 22:31:12 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 11, 'response_buffer': 2048, 'conversation': 0, 'search_results': 111, 'total': 2470}
2025-10-19 22:31:12 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What are employee development opportunities?...'
2025-10-19 22:31:12 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 262
2025-10-19 22:31:12 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (323 tokens)
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=323, sources=1
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 47)
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 22:31:12 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7
2025-10-19 22:31:12 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 48)
2025-10-19 22:31:12 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 22:31:12 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: d73ae060-cdc2-49b9-b4ec-870d1abe37d7)
2025-10-19 22:31:12 | INFO     | app.api.qa:list_conversations:111 - Listing conversations (limit=20)
2025-10-19 22:55:50 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 22:55:51 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:55:51 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:55:53 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:55:53 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:55:55 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:55:55 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:55:56 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:55:56 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:55:58 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:55:58 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:56:00 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:56:00 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:56:02 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:56:02 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:56:05 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 22:56:05 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 22:56:05 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 22:56:06 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 22:56:06 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 22:56:06 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 22:56:06 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 22:56:06 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 22:56:06 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 22:56:06 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 22:56:06 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 22:56:06 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 22:56:14 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 22:56:16 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:56:16 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:56:18 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:56:18 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:56:21 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 22:56:21 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 22:56:21 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 22:56:21 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 22:56:21 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 22:56:22 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 22:56:22 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 22:56:22 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 22:56:22 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 22:56:22 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 22:56:22 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 22:56:22 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 22:56:50 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 22:56:51 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:56:51 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:56:54 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:56:54 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:56:57 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:56:57 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:56:59 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:56:59 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:57:00 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:00 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:01 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:01 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:03 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:03 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:05 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:05 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:07 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:07 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:08 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:08 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:09 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:09 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:11 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:57:11 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:57:13 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:13 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:15 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 22:57:15 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 22:57:17 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 22:57:17 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 22:57:20 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 22:57:20 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 22:57:20 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 22:57:21 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 22:57:21 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 22:57:21 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 22:57:21 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 22:57:21 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 22:57:21 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 22:57:21 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 22:57:21 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 22:57:21 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:00:50 | INFO     | app.api.documents:upload_document:79 - Received upload request: takeout-20250926T141134Z-1-001.zip
2025-10-19 23:00:50 | ERROR    | app.core.database:get_db:44 - Database session error: 
2025-10-19 23:01:17 | INFO     | app.api.documents:upload_document:79 - Received upload request: Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.api.documents:upload_document:114 - File saved: uploads/raw/5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf (315887 bytes)
2025-10-19 23:01:17 | INFO     | app.services.document_service:create_document_record:56 - Created document record: d7429c01-1aa9-48a2-aa54-99ff69360e58
2025-10-19 23:01:17 | INFO     | app.api.documents:upload_document:129 - Added background task for document processing: d7429c01-1aa9-48a2-aa54-99ff69360e58
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:121 - Starting document processing: d7429c01-1aa9-48a2-aa54-99ff69360e58
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: parsing
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:137 - Parsing document: 5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 1 pages, 218 words in 0.15s
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: parsed
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: 5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: cleaning
2025-10-19 23:01:17 | INFO     | app.services.cleaner:clean_text:178 - Starting text cleaning pipeline (original length: 1565 chars)
2025-10-19 23:01:17 | INFO     | app.services.cleaner:clean_text:215 - Cleaning completed: 1565 -> 841 chars (46.26% reduction) in 0.001s
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: 5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: cleaned
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:221 - Chunking document: 5dab4ba1-698c-4732-8f55-dcefd917982c_Mohammed_Abbas_615442e6b64bf6.04534702_German.pdf
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: chunking
2025-10-19 23:01:17 | INFO     | app.services.chunker:chunk_text:49 - Chunking text using 'sentence-aware' strategy
2025-10-19 23:01:17 | INFO     | app.services.chunker:chunk_text:50 - Text length: 841 chars, Target chunk size: 500
2025-10-19 23:01:17 | INFO     | app.services.chunker:chunk_text:78 - Created 2 chunks
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:236 - Created 2 chunks
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 2 chunks
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: embedding
2025-10-19 23:01:17 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 2 chunks...
2025-10-19 23:01:17 | INFO     | app.services.embeddings:encode:73 - Encoding 2 texts...
2025-10-19 23:01:17 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (2, 384)
2025-10-19 23:01:17 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:298 - Indexing 2 chunks in Typesense
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: indexing
2025-10-19 23:01:17 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 2 chunks for document d7429c01-1aa9-48a2-aa54-99ff69360e58
2025-10-19 23:01:17 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 2 chunks successfully, 0 failures
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:307 - Indexed 2 chunks successfully
2025-10-19 23:01:17 | INFO     | app.services.document_service:update_document_status:105 - Updated document d7429c01-1aa9-48a2-aa54-99ff69360e58 status to: indexed
2025-10-19 23:01:17 | INFO     | app.services.document_service:process_document:332 - Document processing completed: d7429c01-1aa9-48a2-aa54-99ff69360e58
2025-10-19 23:04:54 | INFO     | app.api.search:search_documents:45 - Search query: 'performance review'
2025-10-19 23:04:54 | INFO     | app.services.typesense_service:search:234 - Searching: 'performance review' in documents
2025-10-19 23:04:54 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:04:54 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:07:36 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:07:36 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:07:38 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:07:38 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:07:41 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:07:41 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:07:41 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:07:41 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:07:41 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:07:41 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:07:41 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:07:41 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:07:41 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 23:07:41 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:07:41 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 23:07:41 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:07:49 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'How are employees evaluated and what happens after reviews?...'
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:66 - Using session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 5 previous messages
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='How are employees evaluated an...'
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 5 messages
2025-10-19 23:07:49 | INFO     | app.services.memory_service:check_follow_up_question:274 - Detected follow-up question (indicator: 'and')
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: True
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='How are employees evaluated and what happens after...'
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:07:49 | INFO     | app.services.typesense_service:search:234 - Searching: 'How are employees evaluated and what happens after reviews?' in documents
2025-10-19 23:07:49 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 23:07:49 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:07:49 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='How are employees evaluated and what happens after...'
2025-10-19 23:07:49 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 23:07:49 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2658 total tokens
2025-10-19 23:07:49 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 14, 'response_buffer': 2048, 'conversation': 185, 'search_results': 111, 'total': 2658}
2025-10-19 23:07:49 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'How are employees evaluated and what happens after...'
2025-10-19 23:07:49 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 411
2025-10-19 23:07:49 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (513 tokens)
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=513, sources=1
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 49)
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:07:49 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f2baf660-d53a-4dc0-abc6-70e9b821a215
2025-10-19 23:07:49 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 50)
2025-10-19 23:07:49 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:07:49 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: f2baf660-d53a-4dc0-abc6-70e9b821a215)
2025-10-19 23:07:54 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the performance review process?...'
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the performance review process?...'
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:66 - Using session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the performance review...'
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the performance review process?...'
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:07:54 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the performance review process?' in documents
2025-10-19 23:07:54 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 23:07:54 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:07:54 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 8ms
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the performance review process?...'
2025-10-19 23:07:54 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 23:07:54 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2465 total tokens
2025-10-19 23:07:54 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2465}
2025-10-19 23:07:54 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the performance review process?...'
2025-10-19 23:07:54 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 274
2025-10-19 23:07:54 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (313 tokens)
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=313, sources=1
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 51)
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:07:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92
2025-10-19 23:07:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 52)
2025-10-19 23:07:54 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:07:54 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: aa7fb90a-b6eb-4aae-bf0e-d60494fb2e92)
2025-10-19 23:08:19 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:08:19 | INFO     | app.services.typesense_service:search:234 - Searching: 'MOHAMMED SAEED ABBAS' in documents
2025-10-19 23:08:19 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 23:08:19 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:08:19 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 9ms
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 23:08:19 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2478 total tokens
2025-10-19 23:08:19 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 5, 'response_buffer': 2048, 'conversation': 0, 'search_results': 125, 'total': 2478}
2025-10-19 23:08:19 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'MOHAMMED SAEED ABBAS...'
2025-10-19 23:08:19 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 351
2025-10-19 23:08:19 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (429 tokens)
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=429, sources=1
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 53)
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:08:19 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 65a052d3-44df-43f8-abcc-85e23bf27bc4
2025-10-19 23:08:19 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 54)
2025-10-19 23:08:19 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:08:19 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 65a052d3-44df-43f8-abcc-85e23bf27bc4)
2025-10-19 23:09:16 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'performance review process...'
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'performance review process...'
2025-10-19 23:09:16 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:process_query:66 - Using session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:09:16 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='performance review process...'
2025-10-19 23:09:16 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:16 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='performance review process...'
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:09:16 | INFO     | app.services.typesense_service:search:234 - Searching: 'performance review process' in documents
2025-10-19 23:09:16 | INFO     | app.services.typesense_service:search:256 - Found 3 results
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 3 results
2025-10-19 23:09:16 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:09:16 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 7ms
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 3 results
2025-10-19 23:09:16 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 3 results
2025-10-19 23:09:16 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='performance review process...'
2025-10-19 23:09:16 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 3 search results
2025-10-19 23:09:16 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 3 chunks, 2710 total tokens
2025-10-19 23:09:16 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 0, 'search_results': 356, 'total': 2710}
2025-10-19 23:09:16 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'performance review process...'
2025-10-19 23:09:16 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 577
2025-10-19 23:09:17 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (645 tokens)
2025-10-19 23:09:17 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=645, sources=3
2025-10-19 23:09:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:09:17 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 55)
2025-10-19 23:09:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:09:17 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e
2025-10-19 23:09:17 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 56)
2025-10-19 23:09:17 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:09:17 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: 4ffe2ba7-1c88-44db-9a6c-da5ed2bdab0e)
2025-10-19 23:10:01 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What are the goals set by the company?...'
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What are the goals set by the company?...'
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:66 - Using session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 0 previous messages
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What are the goals set by the ...'
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What are the goals set by the company?...'
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:10:01 | INFO     | app.services.typesense_service:search:234 - Searching: 'What are the goals set by the company?' in documents
2025-10-19 23:10:01 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 23:10:01 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:10:01 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 11ms
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What are the goals set by the company?...'
2025-10-19 23:10:01 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 23:10:01 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2468 total tokens
2025-10-19 23:10:01 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 111, 'total': 2468}
2025-10-19 23:10:01 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What are the goals set by the company?...'
2025-10-19 23:10:01 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 265
2025-10-19 23:10:01 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (324 tokens)
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=324, sources=1
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 57)
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:10:01 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:10:01 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 58)
2025-10-19 23:10:01 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:10:01 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: eb2e49d3-7588-49fb-aa4c-b36589edc728)
2025-10-19 23:11:33 | INFO     | app.api.qa:get_conversation_history:150 - Retrieving conversation history: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:11:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:11:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:11:33 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:11:33 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:11:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:11:33 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-19 23:11:33 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:11:33 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 23:12:41 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What is the performance review guideleines set by the company?...'
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What is the performance review guideleines set by the company?...'
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:66 - Using session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 2 previous messages
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What is the performance review...'
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What is the performance review guideleines set by ...'
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:12:41 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the performance review guideleines set by the company?' in documents
2025-10-19 23:12:41 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-19 23:12:41 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:12:41 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 9ms
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 1 results
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 1 results
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What is the performance review guideleines set by ...'
2025-10-19 23:12:41 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 1 search results
2025-10-19 23:12:41 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 1 chunks, 2471 total tokens
2025-10-19 23:12:41 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 15, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2471}
2025-10-19 23:12:41 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the performance review guideleines set by ...'
2025-10-19 23:12:41 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 280
2025-10-19 23:12:41 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (355 tokens)
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=355, sources=1
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 59)
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:12:41 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:12:41 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 60)
2025-10-19 23:12:41 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:12:41 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: eb2e49d3-7588-49fb-aa4c-b36589edc728)
2025-10-19 23:13:04 | INFO     | app.api.qa:get_conversation_history:150 - Retrieving conversation history: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:04 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:13:04 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:13:04 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:13:04 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:13:04 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:04 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-19 23:13:04 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:04 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 23:13:29 | INFO     | app.api.qa:ask_question:47 - Received Q&A request: 'What will the company give in return?...'
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:57 - Processing query: 'What will the company give in return?...'
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:66 - Using session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:75 - Retrieved 4 previous messages
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: check_followup: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Checking if follow-up question: query='What will the company give in ...'
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:85 - Is follow-up question: False
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Executing hybrid search: query='What will the company give in return?...'
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Keyword search: fetching 15 results
2025-10-19 23:13:29 | INFO     | app.services.typesense_service:search:234 - Searching: 'What will the company give in return?' in documents
2025-10-19 23:13:29 | INFO     | app.services.typesense_service:search:256 - Found 2 results
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Semantic reranking: reranking 2 results
2025-10-19 23:13:29 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-19 23:13:29 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Reranking complete: took 43ms
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [SearchAgent] Search completed: Found 2 results
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:101 - Search returned 2 results
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Generating answer: query='What will the company give in return?...'
2025-10-19 23:13:29 | INFO     | app.services.context_manager:assemble_context:76 - Assembling context for query with 2 search results
2025-10-19 23:13:29 | INFO     | app.services.context_manager:assemble_context:154 - Context assembled: 2 chunks, 2576 total tokens
2025-10-19 23:13:29 | INFO     | app.services.context_manager:assemble_context:155 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 219, 'total': 2576}
2025-10-19 23:13:29 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What will the company give in return?...'
2025-10-19 23:13:29 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 371
2025-10-19 23:13:29 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (398 tokens)
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [AnswerAgent] Answer generated: tokens=398, sources=2
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=user
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 61)
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: store: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Storing message: role=assistant
2025-10-19 23:13:29 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:29 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 62)
2025-10-19 23:13:29 | INFO     | app.agents.orchestrator:process_query:136 - Q&A processing completed successfully
2025-10-19 23:13:29 | INFO     | app.api.qa:ask_question:84 - Q&A request completed successfully (session: eb2e49d3-7588-49fb-aa4c-b36589edc728)
2025-10-19 23:13:38 | INFO     | app.api.qa:get_conversation_history:150 - Retrieving conversation history: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:38 | INFO     | app.agents.base_agent:__init__:22 - Initialized SearchAgent
2025-10-19 23:13:38 | INFO     | app.agents.base_agent:__init__:22 - Initialized MemoryAgent
2025-10-19 23:13:38 | INFO     | app.agents.base_agent:__init__:22 - Initialized AnswerAgent
2025-10-19 23:13:38 | INFO     | app.agents.orchestrator:__init__:34 - QAOrchestrator initialized with 3 agents
2025-10-19 23:13:38 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Executing action: retrieve: session=eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:38 | INFO     | app.agents.base_agent:log_execution:48 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-19 23:13:38 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: eb2e49d3-7588-49fb-aa4c-b36589edc728
2025-10-19 23:13:38 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 6 messages
2025-10-19 23:14:47 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 23:14:48 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:14:48 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:14:50 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:14:50 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:14:53 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:14:53 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:14:53 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:14:54 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:14:54 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:14:54 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:14:54 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:14:54 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:14:54 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 23:14:54 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:14:54 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 23:14:54 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:14:59 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 23:15:01 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:01 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:03 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:03 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:05 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:05 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:07 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:07 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:10 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:10 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:12 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:12 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:14 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:14 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:16 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:16 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:19 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:19 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:21 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:21 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:24 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:15:24 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:15:24 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:15:24 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:15:24 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:15:25 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:15:25 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:15:25 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:15:25 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 23:15:25 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:15:25 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 23:15:25 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:15:29 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 23:15:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:33 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:33 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:35 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:35 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:37 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:37 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:40 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:15:40 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:15:40 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:15:41 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:15:41 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:15:41 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:15:41 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:15:41 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:15:41 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 23:15:41 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:15:41 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 23:15:41 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:15:42 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 23:15:44 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:15:44 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:15:46 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:15:46 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:15:49 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:15:49 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:15:49 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:15:49 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:15:49 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:15:49 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:15:49 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:15:49 | INFO     | app.main:lifespan:21 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:15:49 | INFO     | app.main:lifespan:22 - Environment: development
2025-10-19 23:15:49 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:15:49 | INFO     | app.main:lifespan:29 - Upload directories initialized
2025-10-19 23:15:49 | INFO     | app.main:lifespan:31 - Application startup complete
2025-10-19 23:16:13 | INFO     | app.main:lifespan:36 - Application shutting down
2025-10-19 23:16:14 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:14 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:16 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:16 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:17 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:17 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:19 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:19 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:21 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:21 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:23 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:23 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:25 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:25 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:28 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:28 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:29 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:29 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:33 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:33 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:35 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:35 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:37 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:37 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:38 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:38 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:41 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:41 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:43 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:43 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:45 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:45 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:48 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:48 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:50 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:50 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:51 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:16:51 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:16:53 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:16:53 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:16:56 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:16:56 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:16:56 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:16:57 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:16:57 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:16:57 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:16:57 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:16:57 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:16:57 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-19 23:16:57 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:16:57 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-19 23:16:57 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-19 23:16:59 | INFO     | app.main:lifespan:28 - Application shutting down
2025-10-19 23:17:00 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:00 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:03 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:03 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:05 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:05 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:07 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:07 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:10 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:10 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:12 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:12 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:15 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:17:15 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:17:15 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:17:15 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:17:15 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:17:16 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:17:16 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:17:16 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:17:16 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-19 23:17:16 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:17:16 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-19 23:17:16 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-19 23:17:19 | INFO     | app.main:lifespan:28 - Application shutting down
2025-10-19 23:17:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:22 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:22 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:24 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:24 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:26 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:26 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:29 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:29 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:32 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:32 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:34 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:34 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:35 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:35 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:37 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:37 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:39 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:39 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:41 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:41 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:44 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:44 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:46 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:46 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:48 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:48 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:51 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:51 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:54 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:54 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:55 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:55 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:17:57 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:17:57 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:17:59 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:17:59 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:01 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:01 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:03 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:03 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:05 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:05 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:08 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:08 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:09 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:09 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:11 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:11 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:13 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:13 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:16 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:16 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:17 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:17 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:19 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:19 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:20 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:20 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:23 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:23 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:24 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:24 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:26 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:26 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:28 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:28 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:30 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:30 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:33 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:33 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:35 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:35 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:37 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:37 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:39 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:39 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:42 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:42 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:43 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:43 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:46 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:46 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:48 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:48 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:49 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:49 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:52 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:52 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:54 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:18:54 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:18:56 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:18:56 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:18:59 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:18:59 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:18:59 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:18:59 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:18:59 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:19:00 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:00 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:02 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:02 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:03 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:03 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:05 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:19:05 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:19:07 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:07 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:09 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:19:09 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:19:11 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:11 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:13 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:19:13 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:19:15 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:15 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:17 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:19:17 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:19:19 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:19:19 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:19:21 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:19:21 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:19:24 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:19:24 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:19:24 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:19:25 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:19:25 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:19:25 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:19:25 | INFO     | app.services.context_manager:__init__:41 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:19:25 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:19:25 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-19 23:19:25 | INFO     | app.core.database:init_db:33 - Database initialized successfully
2025-10-19 23:19:25 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-19 23:19:25 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-19 23:20:19 | INFO     | app.main:lifespan:28 - Application shutting down
2025-10-19 23:20:21 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:21 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:22 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:22 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:23 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:23 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:25 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:25 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:27 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:20:27 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:20:29 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:29 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:31 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:31 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:34 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:20:34 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:20:35 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:35 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:36 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:36 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:38 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:38 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:40 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:40 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:42 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:42 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:44 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:44 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:46 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:46 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:48 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:48 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:20:49 | INFO     | app.core.logging:setup_logging:37 - Logging initialized - Level: INFO
2025-10-19 23:20:49 | INFO     | app.core.logging:setup_logging:38 - Log file: ./logs/app.log
2025-10-19 23:43:49 | INFO     | app.core.logging:setup_logging:30 - Logging initialized - Level: INFO
2025-10-19 23:43:49 | INFO     | app.core.logging:setup_logging:31 - Log file: ./logs/app.log
2025-10-19 23:43:52 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:43:52 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:43:56 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:43:56 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:43:56 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:43:56 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:43:57 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:43:57 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:43:57 | INFO     | app.services.context_manager:__init__:25 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:43:57 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:43:57 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-19 23:43:57 | INFO     | app.core.database:init_db:27 - Database initialized successfully
2025-10-19 23:43:57 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-19 23:43:57 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-19 23:48:11 | INFO     | app.core.logging:setup_logging:30 - Logging initialized - Level: INFO
2025-10-19 23:48:11 | INFO     | app.core.logging:setup_logging:31 - Log file: ./logs/app.log
2025-10-19 23:48:13 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-19 23:48:13 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-19 23:48:16 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-19 23:48:16 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-19 23:48:16 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-19 23:48:16 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-19 23:48:16 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-19 23:48:17 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-19 23:48:17 | INFO     | app.services.context_manager:__init__:25 - ContextManager initialized with 5744 tokens available for context
2025-10-19 23:48:17 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-19 23:48:17 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-19 23:48:17 | INFO     | app.core.database:init_db:27 - Database initialized successfully
2025-10-19 23:48:17 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-19 23:48:17 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-19 23:48:21 | INFO     | app.main:lifespan:28 - Application shutting down
2025-10-20 00:38:29 | INFO     | app.core.logging:setup_logging:30 - Logging initialized - Level: INFO
2025-10-20 00:38:29 | INFO     | app.core.logging:setup_logging:31 - Log file: ./logs/app.log
2025-10-20 00:38:31 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-20 00:38:31 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-20 00:38:34 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-20 00:38:34 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-20 00:38:34 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-20 00:38:35 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-20 00:38:35 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-20 00:38:35 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-20 00:38:35 | INFO     | app.services.context_manager:__init__:25 - ContextManager initialized with 5744 tokens available for context
2025-10-20 00:38:35 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-20 00:38:35 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-20 00:38:35 | INFO     | app.core.database:init_db:27 - Database initialized successfully
2025-10-20 00:38:35 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-20 00:38:35 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-20 00:39:23 | INFO     | app.api.documents:upload_document:61 - Received upload request: All_You_Need_to_Know_About_The_Self_Attention_Layer__1760496103.pdf
2025-10-20 00:39:23 | INFO     | app.api.documents:upload_document:96 - File saved: uploads/raw/2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf (4489208 bytes)
2025-10-20 00:39:23 | INFO     | app.services.document_service:create_document_record:56 - Created document record: 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b
2025-10-20 00:39:23 | INFO     | app.api.documents:upload_document:111 - Added background task for document processing: 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b
2025-10-20 00:39:23 | INFO     | app.services.document_service:process_document:121 - Starting document processing: 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b
2025-10-20 00:39:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: parsing
2025-10-20 00:39:23 | INFO     | app.services.document_service:process_document:137 - Parsing document: 2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-20 00:39:23 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-20 00:39:27 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 80 pages, 14860 words in 4.41s
2025-10-20 00:39:27 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: parsed
2025-10-20 00:39:27 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: 2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-20 00:39:27 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: cleaning
2025-10-20 00:39:27 | INFO     | app.services.cleaner:clean_text:112 - Starting text cleaning pipeline (original length: 159768 chars)
2025-10-20 00:39:27 | INFO     | app.services.cleaner:clean_text:145 - Cleaning completed: 159768 -> 33707 chars (78.9% reduction) in 0.033s
2025-10-20 00:39:27 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: 2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-20 00:39:27 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: cleaned
2025-10-20 00:39:27 | INFO     | app.services.document_service:process_document:221 - Chunking document: 2eb4dac6-45f7-43a7-a9c1-7776754c7623_All_You_Need_to_Know_About_The_Self_Attention_Layer_1760496103.pdf
2025-10-20 00:39:27 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: chunking
2025-10-20 00:39:27 | INFO     | app.services.chunker:chunk_text:20 - Chunking text using 'sentence-aware' strategy
2025-10-20 00:39:27 | INFO     | app.services.chunker:chunk_text:21 - Text length: 33707 chars, Target chunk size: 500
2025-10-20 00:39:27 | INFO     | app.services.chunker:chunk_text:49 - Created 79 chunks
2025-10-20 00:39:27 | INFO     | app.services.document_service:process_document:236 - Created 79 chunks
2025-10-20 00:39:27 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 79 chunks
2025-10-20 00:39:27 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: embedding
2025-10-20 00:39:27 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 79 chunks...
2025-10-20 00:39:27 | INFO     | app.services.embeddings:encode:73 - Encoding 79 texts...
2025-10-20 00:39:29 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (79, 384)
2025-10-20 00:39:29 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-20 00:39:29 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-20 00:39:29 | INFO     | app.services.document_service:process_document:298 - Indexing 79 chunks in Typesense
2025-10-20 00:39:29 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: indexing
2025-10-20 00:39:29 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 79 chunks for document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b
2025-10-20 00:39:29 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 79 chunks successfully, 0 failures
2025-10-20 00:39:29 | INFO     | app.services.document_service:process_document:307 - Indexed 79 chunks successfully
2025-10-20 00:39:29 | INFO     | app.services.document_service:update_document_status:105 - Updated document 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b status to: indexed
2025-10-20 00:39:29 | INFO     | app.services.document_service:process_document:332 - Document processing completed: 5b3e188d-cb5f-4bfb-a1d0-1830caa5aa7b
2025-10-20 00:41:36 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'What is Sparse Attention Mechanisms?...'
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'What is Sparse Attention Mechanisms?...'
2025-10-20 00:41:36 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:41:36 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='What is Sparse Attention Mecha...'
2025-10-20 00:41:36 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:36 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='What is Sparse Attention Mechanisms?...'
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:41:36 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is Sparse Attention Mechanisms?' in documents
2025-10-20 00:41:36 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:41:36 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:41:36 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 11ms
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:41:36 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:41:36 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='What is Sparse Attention Mechanisms?...'
2025-10-20 00:41:36 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:41:36 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2465 total tokens
2025-10-20 00:41:36 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2465}
2025-10-20 00:41:36 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is Sparse Attention Mechanisms?...'
2025-10-20 00:41:36 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 274
2025-10-20 00:41:37 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (317 tokens)
2025-10-20 00:41:37 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=317, sources=1
2025-10-20 00:41:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:41:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 63)
2025-10-20 00:41:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:41:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb
2025-10-20 00:41:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 64)
2025-10-20 00:41:37 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:41:37 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 7e8eb37e-00a8-4b1e-b06a-2fbd5775cdbb)
2025-10-20 00:41:47 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:41:47 | INFO     | app.services.typesense_service:search:234 - Searching: 'Sparse Attention Mechanisms?' in documents
2025-10-20 00:41:47 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:41:47 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:41:47 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 8ms
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:41:47 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2479 total tokens
2025-10-20 00:41:47 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 7, 'response_buffer': 2048, 'conversation': 0, 'search_results': 124, 'total': 2479}
2025-10-20 00:41:47 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Sparse Attention Mechanisms?...'
2025-10-20 00:41:47 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 310
2025-10-20 00:41:47 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (337 tokens)
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=337, sources=1
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 65)
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:41:47 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:41:47 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 66)
2025-10-20 00:41:47 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:41:47 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e)
2025-10-20 00:42:34 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'What is the The First Sparse Attention?...'
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'What is the The First Sparse Attention?...'
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 2 previous messages
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='What is the The First Sparse A...'
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='What is the The First Sparse Attention?...'
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:42:34 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is the The First Sparse Attention?' in documents
2025-10-20 00:42:34 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:42:34 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:42:34 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 11ms
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='What is the The First Sparse Attention?...'
2025-10-20 00:42:34 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:42:34 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2465 total tokens
2025-10-20 00:42:34 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 108, 'total': 2465}
2025-10-20 00:42:34 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is the The First Sparse Attention?...'
2025-10-20 00:42:34 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 275
2025-10-20 00:42:34 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (320 tokens)
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=320, sources=1
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 67)
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:42:34 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:34 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 68)
2025-10-20 00:42:34 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:42:34 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e)
2025-10-20 00:42:40 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 4 previous messages
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-20 00:42:40 | INFO     | app.services.memory_service:check_follow_up_question:279 - Detected potential follow-up (short query with history)
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: True
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:42:40 | INFO     | app.services.typesense_service:search:234 - Searching: 'First Sparse Attention?' in documents
2025-10-20 00:42:40 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:42:40 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:42:40 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 9ms
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:42:40 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2564 total tokens
2025-10-20 00:42:40 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 5, 'response_buffer': 2048, 'conversation': 88, 'search_results': 123, 'total': 2564}
2025-10-20 00:42:40 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'First Sparse Attention?...'
2025-10-20 00:42:40 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 385
2025-10-20 00:42:40 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (489 tokens)
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=489, sources=1
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 69)
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:42:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e
2025-10-20 00:42:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 70)
2025-10-20 00:42:40 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:42:40 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 1f2b0f4f-800e-4e0d-9918-7a0af6bb715e)
2025-10-20 00:45:56 | INFO     | app.main:lifespan:28 - Application shutting down
2025-10-20 00:48:45 | INFO     | app.core.logging:setup_logging:30 - Logging initialized - Level: INFO
2025-10-20 00:48:45 | INFO     | app.core.logging:setup_logging:31 - Log file: ./logs/app.log
2025-10-20 00:48:47 | INFO     | app.services.embeddings:_load_model:33 - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-10-20 00:48:47 | INFO     | app.services.embeddings:_load_model:37 - Using device: cpu
2025-10-20 00:48:51 | INFO     | app.services.embeddings:_load_model:52 - Model loaded successfully. Embedding dimension: 384
2025-10-20 00:48:51 | INFO     | app.services.typesense_service:_init_client:32 - Initializing Typesense client...
2025-10-20 00:48:51 | INFO     | app.services.typesense_service:_init_client:40 - Typesense connected successfully. Found 1 collections.
2025-10-20 00:48:51 | INFO     | app.services.llm_service:_init_llm:35 - Initializing Groq LLM: llama-3.1-8b-instant
2025-10-20 00:48:51 | INFO     | app.services.llm_service:_init_llm:44 - Groq LLM initialized successfully
2025-10-20 00:48:51 | INFO     | app.services.llm_service:_init_tokenizer:55 - Tokenizer initialized
2025-10-20 00:48:51 | INFO     | app.services.context_manager:__init__:25 - ContextManager initialized with 5744 tokens available for context
2025-10-20 00:48:51 | INFO     | app.main:lifespan:16 - Starting Smart Document Q&A System v1.0.0
2025-10-20 00:48:51 | INFO     | app.main:lifespan:17 - Environment: development
2025-10-20 00:48:51 | INFO     | app.core.database:init_db:27 - Database initialized successfully
2025-10-20 00:48:51 | INFO     | app.main:lifespan:22 - Upload directories initialized
2025-10-20 00:48:51 | INFO     | app.main:lifespan:24 - Application startup complete
2025-10-20 00:50:08 | INFO     | app.api.documents:upload_document:61 - Received upload request: BERT_PAPER.pdf
2025-10-20 00:50:08 | INFO     | app.api.documents:upload_document:96 - File saved: uploads/raw/693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf (775166 bytes)
2025-10-20 00:50:08 | INFO     | app.services.document_service:create_document_record:56 - Created document record: f641abf6-ae84-4cd1-ae0e-813fab024928
2025-10-20 00:50:08 | INFO     | app.api.documents:upload_document:111 - Added background task for document processing: f641abf6-ae84-4cd1-ae0e-813fab024928
2025-10-20 00:50:08 | INFO     | app.services.document_service:process_document:121 - Starting document processing: f641abf6-ae84-4cd1-ae0e-813fab024928
2025-10-20 00:50:08 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: parsing
2025-10-20 00:50:08 | INFO     | app.services.document_service:process_document:137 - Parsing document: 693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf
2025-10-20 00:50:08 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf
2025-10-20 00:50:10 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 16 pages, 7890 words in 2.03s
2025-10-20 00:50:10 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: parsed
2025-10-20 00:50:10 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: 693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf
2025-10-20 00:50:10 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: cleaning
2025-10-20 00:50:10 | INFO     | app.services.cleaner:clean_text:112 - Starting text cleaning pipeline (original length: 63365 chars)
2025-10-20 00:50:10 | INFO     | app.services.cleaner:clean_text:145 - Cleaning completed: 63365 -> 16522 chars (73.93% reduction) in 0.009s
2025-10-20 00:50:10 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: 693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf
2025-10-20 00:50:10 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: cleaned
2025-10-20 00:50:10 | INFO     | app.services.document_service:process_document:221 - Chunking document: 693cb5c8-3f54-4a26-8a55-cbcc630a41ab_BERT_PAPER.pdf
2025-10-20 00:50:10 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: chunking
2025-10-20 00:50:10 | INFO     | app.services.chunker:chunk_text:20 - Chunking text using 'sentence-aware' strategy
2025-10-20 00:50:10 | INFO     | app.services.chunker:chunk_text:21 - Text length: 16522 chars, Target chunk size: 500
2025-10-20 00:50:10 | INFO     | app.services.chunker:chunk_text:49 - Created 38 chunks
2025-10-20 00:50:10 | INFO     | app.services.document_service:process_document:236 - Created 38 chunks
2025-10-20 00:50:10 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 38 chunks
2025-10-20 00:50:10 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: embedding
2025-10-20 00:50:10 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 38 chunks...
2025-10-20 00:50:10 | INFO     | app.services.embeddings:encode:73 - Encoding 38 texts...
2025-10-20 00:50:11 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (38, 384)
2025-10-20 00:50:11 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-20 00:50:11 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-20 00:50:11 | INFO     | app.services.document_service:process_document:298 - Indexing 38 chunks in Typesense
2025-10-20 00:50:11 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: indexing
2025-10-20 00:50:11 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 38 chunks for document f641abf6-ae84-4cd1-ae0e-813fab024928
2025-10-20 00:50:11 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 38 chunks successfully, 0 failures
2025-10-20 00:50:11 | INFO     | app.services.document_service:process_document:307 - Indexed 38 chunks successfully
2025-10-20 00:50:11 | INFO     | app.services.document_service:update_document_status:105 - Updated document f641abf6-ae84-4cd1-ae0e-813fab024928 status to: indexed
2025-10-20 00:50:11 | INFO     | app.services.document_service:process_document:332 - Document processing completed: f641abf6-ae84-4cd1-ae0e-813fab024928
2025-10-20 00:51:54 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Unsupervised Feature-based Approaches...'
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Unsupervised Feature-based Approaches...'
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:38 - Using session: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Unsupervised Feature-based App...'
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Unsupervised Feature-based Approaches...'
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:51:54 | INFO     | app.services.typesense_service:search:234 - Searching: 'Unsupervised Feature-based Approaches' in documents
2025-10-20 00:51:54 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:51:54 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:51:54 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 11ms
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Unsupervised Feature-based Approaches...'
2025-10-20 00:51:54 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:51:54 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2479 total tokens
2025-10-20 00:51:54 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 122, 'total': 2479}
2025-10-20 00:51:54 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Unsupervised Feature-based Approaches...'
2025-10-20 00:51:54 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 307
2025-10-20 00:51:54 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (352 tokens)
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=352, sources=1
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 71)
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:51:54 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: a7d55d36-9e12-46fc-a7b2-462efa98448d
2025-10-20 00:51:54 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 72)
2025-10-20 00:51:54 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:51:54 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: a7d55d36-9e12-46fc-a7b2-462efa98448d)
2025-10-20 00:52:07 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Unsupervised Fine-tuning Approaches...'
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Unsupervised Fine-tuning Approaches...'
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Unsupervised Fine-tuning Appro...'
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Unsupervised Fine-tuning Approaches...'
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:52:07 | INFO     | app.services.typesense_service:search:234 - Searching: 'Unsupervised Fine-tuning Approaches' in documents
2025-10-20 00:52:07 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:52:07 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:52:07 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 10ms
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Unsupervised Fine-tuning Approaches...'
2025-10-20 00:52:07 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:52:07 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2478 total tokens
2025-10-20 00:52:07 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 8, 'response_buffer': 2048, 'conversation': 0, 'search_results': 122, 'total': 2478}
2025-10-20 00:52:07 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Unsupervised Fine-tuning Approaches...'
2025-10-20 00:52:07 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 308
2025-10-20 00:52:07 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (420 tokens)
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=420, sources=1
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 73)
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:52:07 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 5d991154-2431-40ec-9bc8-f7870d171d4e
2025-10-20 00:52:07 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 74)
2025-10-20 00:52:07 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:52:07 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 5d991154-2431-40ec-9bc8-f7870d171d4e)
2025-10-20 00:52:29 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Transfer Learning from Supervised Data...'
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Transfer Learning from Supervised Data...'
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Transfer Learning from Supervi...'
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Transfer Learning from Supervised Data...'
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:52:29 | INFO     | app.services.typesense_service:search:234 - Searching: 'Transfer Learning from Supervised Data' in documents
2025-10-20 00:52:29 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:52:29 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:52:29 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 11ms
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Transfer Learning from Supervised Data...'
2025-10-20 00:52:29 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:52:29 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2479 total tokens
2025-10-20 00:52:29 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 9, 'response_buffer': 2048, 'conversation': 0, 'search_results': 122, 'total': 2479}
2025-10-20 00:52:29 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Transfer Learning from Supervised Data...'
2025-10-20 00:52:29 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 306
2025-10-20 00:52:29 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (346 tokens)
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=346, sources=1
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 75)
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:52:29 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 8b7f9abb-4241-45a6-ad46-9ad306439149
2025-10-20 00:52:29 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 76)
2025-10-20 00:52:29 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:52:29 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 8b7f9abb-4241-45a6-ad46-9ad306439149)
2025-10-20 00:52:39 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'BERT...'
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'BERT...'
2025-10-20 00:52:39 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:process_query:38 - Using session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:52:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='BERT...'
2025-10-20 00:52:39 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:39 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='BERT...'
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:52:39 | INFO     | app.services.typesense_service:search:234 - Searching: 'BERT' in documents
2025-10-20 00:52:39 | INFO     | app.services.typesense_service:search:256 - Found 21 results
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 20 results
2025-10-20 00:52:39 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:52:39 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 10ms
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 5 results
2025-10-20 00:52:39 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 5 results
2025-10-20 00:52:39 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='BERT...'
2025-10-20 00:52:39 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 5 search results
2025-10-20 00:52:39 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 5 chunks, 2913 total tokens
2025-10-20 00:52:39 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 1, 'response_buffer': 2048, 'conversation': 0, 'search_results': 564, 'total': 2913}
2025-10-20 00:52:39 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'BERT...'
2025-10-20 00:52:39 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 919
2025-10-20 00:52:40 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1148 tokens)
2025-10-20 00:52:40 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1148, sources=5
2025-10-20 00:52:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:52:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 77)
2025-10-20 00:52:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:52:40 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e
2025-10-20 00:52:40 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 78)
2025-10-20 00:52:40 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:52:40 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: b8dec103-8bf2-439d-8e5b-d439f69a2d4e)
2025-10-20 00:52:50 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:38 - Using session: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:52:50 | INFO     | app.services.typesense_service:search:234 - Searching: 'Pre-training BERT' in documents
2025-10-20 00:52:50 | INFO     | app.services.typesense_service:search:256 - Found 4 results
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 4 results
2025-10-20 00:52:50 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:52:50 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 11ms
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 4 results
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 4 results
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 4 search results
2025-10-20 00:52:50 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 4 chunks, 2826 total tokens
2025-10-20 00:52:50 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 4, 'response_buffer': 2048, 'conversation': 0, 'search_results': 474, 'total': 2826}
2025-10-20 00:52:50 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Pre-training BERT...'
2025-10-20 00:52:50 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 753
2025-10-20 00:52:50 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1007 tokens)
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1007, sources=4
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 79)
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:52:50 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: a9cec108-1738-4e79-a883-cc320a5fa547
2025-10-20 00:52:50 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 80)
2025-10-20 00:52:50 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:52:50 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: a9cec108-1738-4e79-a883-cc320a5fa547)
2025-10-20 00:53:00 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:process_query:38 - Using session: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:53:00 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:00 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:53:00 | INFO     | app.services.typesense_service:search:234 - Searching: 'Next Sentence Prediction' in documents
2025-10-20 00:53:00 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:53:00 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:53:00 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 13ms
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:53:00 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:53:00 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:53:00 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2467 total tokens
2025-10-20 00:53:00 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 0, 'search_results': 113, 'total': 2467}
2025-10-20 00:53:00 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Next Sentence Prediction...'
2025-10-20 00:53:00 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 284
2025-10-20 00:53:01 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (335 tokens)
2025-10-20 00:53:01 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=335, sources=1
2025-10-20 00:53:01 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:53:01 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 81)
2025-10-20 00:53:01 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:53:01 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: a621462b-951e-4308-9462-b8751679f506
2025-10-20 00:53:01 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 82)
2025-10-20 00:53:01 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:53:01 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: a621462b-951e-4308-9462-b8751679f506)
2025-10-20 00:54:59 | INFO     | app.api.documents:upload_document:61 - Received upload request: RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:54:59 | INFO     | app.api.documents:upload_document:96 - File saved: uploads/raw/87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf (2058985 bytes)
2025-10-20 00:54:59 | INFO     | app.services.document_service:create_document_record:56 - Created document record: 9df0e273-d722-44d0-bbc7-9544b9bc4ae1
2025-10-20 00:54:59 | INFO     | app.api.documents:upload_document:111 - Added background task for document processing: 9df0e273-d722-44d0-bbc7-9544b9bc4ae1
2025-10-20 00:54:59 | INFO     | app.services.document_service:process_document:121 - Starting document processing: 9df0e273-d722-44d0-bbc7-9544b9bc4ae1
2025-10-20 00:54:59 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: parsing
2025-10-20 00:54:59 | INFO     | app.services.document_service:process_document:137 - Parsing document: 87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:54:59 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:55:03 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 42 pages, 11322 words in 4.71s
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: parsed
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: 87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: cleaning
2025-10-20 00:55:04 | INFO     | app.services.cleaner:clean_text:112 - Starting text cleaning pipeline (original length: 78389 chars)
2025-10-20 00:55:04 | INFO     | app.services.cleaner:clean_text:145 - Cleaning completed: 78389 -> 15681 chars (80.0% reduction) in 0.008s
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: 87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: cleaned
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:221 - Chunking document: 87ac620f-d425-4a5d-bbad-f32c9f7793d8_RAG_Interview_Questions_and_Answers_Book_by_Kalyan_KS_1760496190.pdf
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: chunking
2025-10-20 00:55:04 | INFO     | app.services.chunker:chunk_text:20 - Chunking text using 'sentence-aware' strategy
2025-10-20 00:55:04 | INFO     | app.services.chunker:chunk_text:21 - Text length: 15681 chars, Target chunk size: 500
2025-10-20 00:55:04 | INFO     | app.services.chunker:chunk_text:49 - Created 35 chunks
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:236 - Created 35 chunks
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 35 chunks
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: embedding
2025-10-20 00:55:04 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 35 chunks...
2025-10-20 00:55:04 | INFO     | app.services.embeddings:encode:73 - Encoding 35 texts...
2025-10-20 00:55:04 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (35, 384)
2025-10-20 00:55:04 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:298 - Indexing 35 chunks in Typesense
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: indexing
2025-10-20 00:55:04 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 35 chunks for document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1
2025-10-20 00:55:04 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 35 chunks successfully, 0 failures
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:307 - Indexed 35 chunks successfully
2025-10-20 00:55:04 | INFO     | app.services.document_service:update_document_status:105 - Updated document 9df0e273-d722-44d0-bbc7-9544b9bc4ae1 status to: indexed
2025-10-20 00:55:04 | INFO     | app.services.document_service:process_document:332 - Document processing completed: 9df0e273-d722-44d0-bbc7-9544b9bc4ae1
2025-10-20 00:56:46 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'What is BERT?...'
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:56:46 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:56:46 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'What is BERT?...'
2025-10-20 00:56:46 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:56:46 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:56:46 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='What is BERT?...'
2025-10-20 00:56:46 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:46 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:56:46 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='What is BERT?...'
2025-10-20 00:56:46 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:56:47 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is BERT?' in documents
2025-10-20 00:56:47 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:56:47 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:56:47 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 9ms
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:56:47 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='What is BERT?...'
2025-10-20 00:56:47 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:56:47 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2463 total tokens
2025-10-20 00:56:47 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 3, 'response_buffer': 2048, 'conversation': 0, 'search_results': 112, 'total': 2463}
2025-10-20 00:56:47 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is BERT?...'
2025-10-20 00:56:47 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 270
2025-10-20 00:56:47 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (311 tokens)
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=311, sources=1
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:56:47 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 83)
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:56:47 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 711048a4-85e7-421d-a821-7285d6635c38
2025-10-20 00:56:47 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 84)
2025-10-20 00:56:47 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:56:47 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 711048a4-85e7-421d-a821-7285d6635c38)
2025-10-20 00:57:06 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'BERT?...'
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'BERT?...'
2025-10-20 00:57:06 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:57:06 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='BERT?...'
2025-10-20 00:57:06 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:06 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='BERT?...'
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:57:06 | INFO     | app.services.typesense_service:search:234 - Searching: 'BERT?' in documents
2025-10-20 00:57:06 | INFO     | app.services.typesense_service:search:256 - Found 21 results
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 20 results
2025-10-20 00:57:06 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:57:06 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 10ms
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 5 results
2025-10-20 00:57:06 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 5 results
2025-10-20 00:57:06 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='BERT?...'
2025-10-20 00:57:06 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 5 search results
2025-10-20 00:57:06 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 5 chunks, 2913 total tokens
2025-10-20 00:57:06 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 1, 'response_buffer': 2048, 'conversation': 0, 'search_results': 564, 'total': 2913}
2025-10-20 00:57:06 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'BERT?...'
2025-10-20 00:57:06 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 920
2025-10-20 00:57:07 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1088 tokens)
2025-10-20 00:57:07 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1088, sources=5
2025-10-20 00:57:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:57:07 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 85)
2025-10-20 00:57:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:57:07 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1
2025-10-20 00:57:07 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 86)
2025-10-20 00:57:07 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:57:07 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 7bdc5af7-ecf1-4e97-bd33-f83d46f7d1b1)
2025-10-20 00:57:10 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:38 - Using session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 00:57:10 | INFO     | app.services.typesense_service:search:234 - Searching: 'What is BERT?' in documents
2025-10-20 00:57:10 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 00:57:10 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 00:57:10 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 8ms
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 00:57:10 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2463 total tokens
2025-10-20 00:57:10 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 3, 'response_buffer': 2048, 'conversation': 0, 'search_results': 112, 'total': 2463}
2025-10-20 00:57:10 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'What is BERT?...'
2025-10-20 00:57:10 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 270
2025-10-20 00:57:10 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (333 tokens)
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=333, sources=1
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 87)
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 00:57:10 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3
2025-10-20 00:57:10 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 88)
2025-10-20 00:57:10 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 00:57:10 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: f5113f2e-b005-4dc8-a13b-a4cd10ea4cf3)
2025-10-20 01:01:21 | INFO     | app.api.documents:upload_document:61 - Received upload request: Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.api.documents:upload_document:96 - File saved: uploads/raw/66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf (102158 bytes)
2025-10-20 01:01:21 | INFO     | app.services.document_service:create_document_record:56 - Created document record: 856b6f2d-87a0-4da5-b4bf-747e77ba4550
2025-10-20 01:01:21 | INFO     | app.api.documents:upload_document:111 - Added background task for document processing: 856b6f2d-87a0-4da5-b4bf-747e77ba4550
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:121 - Starting document processing: 856b6f2d-87a0-4da5-b4bf-747e77ba4550
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: parsing
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:137 - Parsing document: 66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 12 pages, 2798 words in 0.80s
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: parsed
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: 66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: cleaning
2025-10-20 01:01:21 | INFO     | app.services.cleaner:clean_text:112 - Starting text cleaning pipeline (original length: 20185 chars)
2025-10-20 01:01:21 | INFO     | app.services.cleaner:clean_text:145 - Cleaning completed: 20185 -> 7011 chars (65.27% reduction) in 0.004s
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: 66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: cleaned
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:221 - Chunking document: 66bd97e9-e953-47e6-aa42-6330ee481949_Top_50_LinkedIn_LLM_Interview_Questions_1760496078.pdf
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: chunking
2025-10-20 01:01:21 | INFO     | app.services.chunker:chunk_text:20 - Chunking text using 'sentence-aware' strategy
2025-10-20 01:01:21 | INFO     | app.services.chunker:chunk_text:21 - Text length: 7011 chars, Target chunk size: 500
2025-10-20 01:01:21 | INFO     | app.services.chunker:chunk_text:49 - Created 16 chunks
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:236 - Created 16 chunks
2025-10-20 01:01:21 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 16 chunks
2025-10-20 01:01:21 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: embedding
2025-10-20 01:01:21 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 16 chunks...
2025-10-20 01:01:21 | INFO     | app.services.embeddings:encode:73 - Encoding 16 texts...
2025-10-20 01:01:22 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (16, 384)
2025-10-20 01:01:22 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-20 01:01:22 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-20 01:01:22 | INFO     | app.services.document_service:process_document:298 - Indexing 16 chunks in Typesense
2025-10-20 01:01:22 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: indexing
2025-10-20 01:01:22 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 16 chunks for document 856b6f2d-87a0-4da5-b4bf-747e77ba4550
2025-10-20 01:01:22 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 16 chunks successfully, 0 failures
2025-10-20 01:01:22 | INFO     | app.services.document_service:process_document:307 - Indexed 16 chunks successfully
2025-10-20 01:01:22 | INFO     | app.services.document_service:update_document_status:105 - Updated document 856b6f2d-87a0-4da5-b4bf-747e77ba4550 status to: indexed
2025-10-20 01:01:22 | INFO     | app.services.document_service:process_document:332 - Document processing completed: 856b6f2d-87a0-4da5-b4bf-747e77ba4550
2025-10-20 01:02:37 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'BERT...'
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'BERT...'
2025-10-20 01:02:37 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 01:02:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='BERT...'
2025-10-20 01:02:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='BERT...'
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 01:02:37 | INFO     | app.services.typesense_service:search:234 - Searching: 'BERT' in documents
2025-10-20 01:02:37 | INFO     | app.services.typesense_service:search:256 - Found 22 results
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 20 results
2025-10-20 01:02:37 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 01:02:37 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 8ms
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 5 results
2025-10-20 01:02:37 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 5 results
2025-10-20 01:02:37 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='BERT...'
2025-10-20 01:02:37 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 5 search results
2025-10-20 01:02:37 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 5 chunks, 2913 total tokens
2025-10-20 01:02:37 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 1, 'response_buffer': 2048, 'conversation': 0, 'search_results': 564, 'total': 2913}
2025-10-20 01:02:37 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'BERT...'
2025-10-20 01:02:37 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 919
2025-10-20 01:02:38 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1076 tokens)
2025-10-20 01:02:38 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1076, sources=5
2025-10-20 01:02:38 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 01:02:38 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 89)
2025-10-20 01:02:38 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 01:02:38 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:02:38 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 90)
2025-10-20 01:02:38 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 01:02:38 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 85e512b0-e107-4455-bdfe-1057ff54eb5d)
2025-10-20 01:03:13 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 2 previous messages
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 01:03:13 | INFO     | app.services.memory_service:check_follow_up_question:279 - Detected potential follow-up (short query with history)
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: True
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 01:03:13 | INFO     | app.services.typesense_service:search:234 - Searching: 'Next Sentence Prediction' in documents
2025-10-20 01:03:13 | INFO     | app.services.typesense_service:search:256 - Found 1 results
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 1 results
2025-10-20 01:03:13 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 01:03:13 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 13ms
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 1 results
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 1 results
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 1 search results
2025-10-20 01:03:13 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 1 chunks, 2598 total tokens
2025-10-20 01:03:13 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 6, 'response_buffer': 2048, 'conversation': 131, 'search_results': 113, 'total': 2598}
2025-10-20 01:03:13 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Next Sentence Prediction...'
2025-10-20 01:03:13 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 442
2025-10-20 01:03:13 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (492 tokens)
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=492, sources=1
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 91)
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 01:03:13 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:13 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 92)
2025-10-20 01:03:13 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 01:03:13 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 85e512b0-e107-4455-bdfe-1057ff54eb5d)
2025-10-20 01:03:37 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 4 previous messages
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-20 01:03:37 | INFO     | app.services.memory_service:check_follow_up_question:279 - Detected potential follow-up (short query with history)
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: True
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 01:03:37 | INFO     | app.services.typesense_service:search:234 - Searching: 'Pre-training BERT' in documents
2025-10-20 01:03:37 | INFO     | app.services.typesense_service:search:256 - Found 5 results
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 5 results
2025-10-20 01:03:37 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 01:03:37 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 10ms
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 5 results
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 5 results
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 5 search results
2025-10-20 01:03:37 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 5 chunks, 3012 total tokens
2025-10-20 01:03:37 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 4, 'response_buffer': 2048, 'conversation': 75, 'search_results': 585, 'total': 3012}
2025-10-20 01:03:37 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Pre-training BERT...'
2025-10-20 01:03:37 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 1060
2025-10-20 01:03:37 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1139 tokens)
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1139, sources=5
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 93)
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 01:03:37 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:03:37 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 94)
2025-10-20 01:03:37 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 01:03:37 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 85e512b0-e107-4455-bdfe-1057ff54eb5d)
2025-10-20 01:04:18 | INFO     | app.api.qa:get_conversation_history:114 - Retrieving conversation history: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:04:18 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:04:18 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:04:18 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:04:18 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:04:18 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:04:18 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-20 01:04:18 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: 85e512b0-e107-4455-bdfe-1057ff54eb5d
2025-10-20 01:04:18 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 6 messages
2025-10-20 01:09:23 | INFO     | app.api.documents:upload_document:61 - Received upload request: ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.api.documents:upload_document:96 - File saved: uploads/raw/f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf (171029 bytes)
2025-10-20 01:09:23 | INFO     | app.services.document_service:create_document_record:56 - Created document record: 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8
2025-10-20 01:09:23 | INFO     | app.api.documents:upload_document:111 - Added background task for document processing: 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:121 - Starting document processing: 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: parsing
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:137 - Parsing document: f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.services.parser:parse_pdf:27 - Parsing PDF: uploads/raw/f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.services.parser:parse_pdf:85 - PDF parsed successfully: 4 pages, 755 words in 0.24s
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: parsed
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:170 - Cleaning text for document: f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: cleaning
2025-10-20 01:09:23 | INFO     | app.services.cleaner:clean_text:112 - Starting text cleaning pipeline (original length: 4986 chars)
2025-10-20 01:09:23 | INFO     | app.services.cleaner:clean_text:145 - Cleaning completed: 4986 -> 2074 chars (58.4% reduction) in 0.001s
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:193 - Saving processed text for document: f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: cleaned
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:221 - Chunking document: f492696b-28cb-4aa1-b4c0-71ee9a08153c_ISMS_HR_05_Grievance Redressal.pdf
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: chunking
2025-10-20 01:09:23 | INFO     | app.services.chunker:chunk_text:20 - Chunking text using 'sentence-aware' strategy
2025-10-20 01:09:23 | INFO     | app.services.chunker:chunk_text:21 - Text length: 2074 chars, Target chunk size: 500
2025-10-20 01:09:23 | INFO     | app.services.chunker:chunk_text:49 - Created 5 chunks
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:236 - Created 5 chunks
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:264 - Generating embeddings for 5 chunks
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: embedding
2025-10-20 01:09:23 | INFO     | app.services.embeddings:embed_chunks:113 - Embedding 5 chunks...
2025-10-20 01:09:23 | INFO     | app.services.embeddings:encode:73 - Encoding 5 texts...
2025-10-20 01:09:23 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (5, 384)
2025-10-20 01:09:23 | INFO     | app.services.embeddings:embed_chunks:125 - Embeddings added to all chunks
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:270 - Generated embeddings for all chunks
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:298 - Indexing 5 chunks in Typesense
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: indexing
2025-10-20 01:09:23 | INFO     | app.services.typesense_service:index_chunks:152 - Indexing 5 chunks for document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8
2025-10-20 01:09:23 | INFO     | app.services.typesense_service:index_chunks:198 - Indexed 5 chunks successfully, 0 failures
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:307 - Indexed 5 chunks successfully
2025-10-20 01:09:23 | INFO     | app.services.document_service:update_document_status:105 - Updated document 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8 status to: indexed
2025-10-20 01:09:23 | INFO     | app.services.document_service:process_document:332 - Document processing completed: 0f89768e-6f7d-4217-a4cf-e0283ea0b8a8
2025-10-20 01:10:50 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'BERT...'
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'BERT...'
2025-10-20 01:10:50 | INFO     | app.services.memory_service:get_or_create_conversation:63 - Created new conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 01:10:50 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 0 previous messages
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='BERT...'
2025-10-20 01:10:50 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:50 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 0 messages
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: False
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='BERT...'
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 01:10:50 | INFO     | app.services.typesense_service:search:234 - Searching: 'BERT' in documents
2025-10-20 01:10:50 | INFO     | app.services.typesense_service:search:256 - Found 22 results
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 20 results
2025-10-20 01:10:50 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 01:10:50 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 8ms
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 5 results
2025-10-20 01:10:50 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 5 results
2025-10-20 01:10:50 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='BERT...'
2025-10-20 01:10:50 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 5 search results
2025-10-20 01:10:50 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 5 chunks, 2913 total tokens
2025-10-20 01:10:50 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 1, 'response_buffer': 2048, 'conversation': 0, 'search_results': 564, 'total': 2913}
2025-10-20 01:10:50 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'BERT...'
2025-10-20 01:10:50 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 919
2025-10-20 01:10:51 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (1137 tokens)
2025-10-20 01:10:51 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=1137, sources=5
2025-10-20 01:10:51 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 01:10:51 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 95)
2025-10-20 01:10:51 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 01:10:51 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:10:51 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 96)
2025-10-20 01:10:51 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 01:10:51 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3)
2025-10-20 01:11:23 | INFO     | app.api.qa:get_conversation_history:114 - Retrieving conversation history: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:23 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:11:23 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:11:23 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:11:23 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:11:23 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:23 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-20 01:11:23 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:23 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 01:11:45 | INFO     | app.api.qa:ask_question:30 - Received Q&A request: 'Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:process_query:29 - Processing query: 'Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:process_query:38 - Using session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=5
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:process_query:47 - Retrieved 2 previous messages
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: check_followup: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Checking if follow-up question: query='Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 5 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 2 messages
2025-10-20 01:11:45 | INFO     | app.services.memory_service:check_follow_up_question:279 - Detected potential follow-up (short query with history)
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:process_query:57 - Is follow-up question: True
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Executing hybrid search: query='Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Keyword search: fetching 20 results
2025-10-20 01:11:45 | INFO     | app.services.typesense_service:search:234 - Searching: 'Pre-training data' in documents
2025-10-20 01:11:45 | INFO     | app.services.typesense_service:search:256 - Found 2 results
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Semantic reranking: reranking 2 results
2025-10-20 01:11:45 | INFO     | app.services.embeddings:encode:73 - Encoding 1 texts...
2025-10-20 01:11:45 | INFO     | app.services.embeddings:encode:83 - Generated embeddings with shape: (1, 384)
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Reranking complete: took 18ms
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [SearchAgent] Search completed: Found 2 results
2025-10-20 01:11:45 | INFO     | app.agents.orchestrator:process_query:73 - Search returned 2 results
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Generating answer: query='Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.services.context_manager:assemble_context:51 - Assembling context for query with 2 search results
2025-10-20 01:11:45 | INFO     | app.services.context_manager:assemble_context:129 - Context assembled: 2 chunks, 2817 total tokens
2025-10-20 01:11:45 | INFO     | app.services.context_manager:assemble_context:130 - Token breakdown: {'system_prompt': 300, 'query': 4, 'response_buffer': 2048, 'conversation': 225, 'search_results': 240, 'total': 2817}
2025-10-20 01:11:45 | INFO     | app.services.llm_service:generate_response:99 - Generating LLM response for query: 'Pre-training data...'
2025-10-20 01:11:45 | INFO     | app.services.llm_service:generate_response:136 - Estimated tokens in prompt: 668
2025-10-20 01:11:45 | INFO     | app.services.llm_service:generate_response:146 - Response generated successfully (739 tokens)
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [AnswerAgent] Answer generated: tokens=739, sources=2
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=user
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.services.memory_service:add_message:89 - Adding user message to session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 97)
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: store: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Storing message: role=assistant
2025-10-20 01:11:45 | INFO     | app.services.memory_service:get_or_create_conversation:47 - Retrieved existing conversation: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:45 | INFO     | app.services.memory_service:add_message:89 - Adding assistant message to session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:46 | INFO     | app.services.memory_service:add_message:115 - Message added (ID: 98)
2025-10-20 01:11:46 | INFO     | app.agents.orchestrator:process_query:108 - Q&A processing completed successfully
2025-10-20 01:11:46 | INFO     | app.api.qa:ask_question:65 - Q&A request completed successfully (session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3)
2025-10-20 01:11:59 | INFO     | app.api.qa:get_conversation_history:114 - Retrieving conversation history: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:59 | INFO     | app.agents.base_agent:__init__:10 - Initialized SearchAgent
2025-10-20 01:11:59 | INFO     | app.agents.base_agent:__init__:10 - Initialized MemoryAgent
2025-10-20 01:11:59 | INFO     | app.agents.base_agent:__init__:10 - Initialized AnswerAgent
2025-10-20 01:11:59 | INFO     | app.agents.orchestrator:__init__:18 - QAOrchestrator initialized with 3 agents
2025-10-20 01:11:59 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Executing action: retrieve: session=9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:59 | INFO     | app.agents.base_agent:log_execution:22 - [MemoryAgent] Retrieving conversation history: limit=50
2025-10-20 01:11:59 | INFO     | app.services.memory_service:get_conversation_history:135 - Retrieving last 50 messages for session: 9cf5fd76-8ec0-4e59-98f7-97caf68d2aa3
2025-10-20 01:11:59 | INFO     | app.services.memory_service:get_conversation_history:158 - Retrieved 4 messages
2025-10-20 03:05:58 | INFO     | app.main:lifespan:28 - Application shutting down
